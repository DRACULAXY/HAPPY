import base64
exec(base64.b64decode("IyBEZWNvbXBpbGUgYnkgTWFyZGlzIChUb29scyBCeSBLYXB0ZW4tS2Fpem8pCiMgVGltZSBTdWNjZXMgZGVjb21waWxlIDogMjAyMi0wNy0xMSAwOToxMTozNy42ODY2NDUKCmltcG9ydCBvcwp0cnk6CglpbXBvcnQgcmljaApleGNlcHQgSW1wb3J0RXJyb3I6CglwcmludCgnXG5cdCBbIV0gSU5TVEFMTElORyBUSEUgUklDSCBNT0RVTEVcbicpCglvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIHJpY2gnKQp0cnk6CiAgICBpbXBvcnQgcmVxdWVzdHMKZXhjZXB0IEltcG9ydEVycm9yOgogICAgcHJpbnQoIlxuXHQgWyFdIElOU1RBTExJTkcgTU9EVUxFIFJFUVVFU1RTXG4iKQogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCByZXF1ZXN0cycpCnRyeToKICAgIGltcG9ydCBjb25jdXJyZW50LmZ1dHVyZXMKZXhjZXB0IEltcG9ydEVycm9yOgogICAgcHJpbnQoIlxuXHQgWyFdIElOU1RBTExJTkcgVEhFIEZVVFVSRVMgTU9EVUxFXG4iKQogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCBmdXR1cmVzJykKdHJ5OgogICAgaW1wb3J0IGJzNApleGNlcHQgSW1wb3J0RXJyb3I6CiAgICBwcmludCgiXG5cdCBbIV0gSU5TVEFMTElORyBUSEUgRlVUVVJFUyBNT0RVTEUgQlM0XG4iKQogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCBiczQnKQogICAgb3Muc3lzdGVtKCdnaXQgcHVsbCcpCmltcG9ydCBvcywgcmVxdWVzdHMsIHJlLCBiczQsIHN5cywganNvbiwgdGltZSwgcmFuZG9tLCBkYXRldGltZSwgc3VicHJvY2VzcywgcmljaApmcm9tIGNvbmN1cnJlbnQuZnV0dXJlcyBpbXBvcnQgVGhyZWFkUG9vbEV4ZWN1dG9yIGFzIEFhbmdYRApmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQpmcm9tIGJzNCBpbXBvcnQgQmVhdXRpZnVsU291cApmcm9tIHJpY2gubWFya2Rvd24gaW1wb3J0IE1hcmtkb3duCmZyb20gcmljaC5jb25zb2xlIGltcG9ydCBDb25zb2xlCmZyb20gcmljaCBpbXBvcnQgcHJpbnQgYXMgcHJpbnRzCmZyb20gcmljaC5wYW5lbCBpbXBvcnQgUGFuZWwKZnJvbSByaWNoIGltcG9ydCBwcmludCBhcyBycHJpbnQKZnJvbSByaWNoIGltcG9ydCBwcmV0dHkKZnJvbSByaWNoLnByb2dyZXNzIGltcG9ydCB0cmFjawpmcm9tIHJpY2gudGFibGUgaW1wb3J0IFRhYmxlIGFzIG1lCmZyb20gcmljaC5jb25zb2xlIGltcG9ydCBDb25zb2xlIGFzIHNvbApmcm9tIGJzNCBpbXBvcnQgQmVhdXRpZnVsU291cCBhcyBzb3AKZnJvbSBiczQgaW1wb3J0IEJlYXV0aWZ1bFNvdXAgYXMgcGFyc2VyCmZyb20gY29uY3VycmVudC5mdXR1cmVzIGltcG9ydCBUaHJlYWRQb29sRXhlY3V0b3IgYXMgdHJlZApmcm9tIHRpbWUgaW1wb3J0IHNsZWVwCmZyb20gcmljaC5jb25zb2xlIGltcG9ydCBHcm91cCBhcyBncApmcm9tIHJpY2gucGFuZWwgaW1wb3J0IFBhbmVsIGFzIG5lbApmcm9tIHJpY2gucHJvZ3Jlc3MgaW1wb3J0IHRyYWNrCmZyb20gcmljaCBpbXBvcnQgcHJpbnQgYXMgY2V0YWsKZnJvbSByaWNoLm1hcmtkb3duIGltcG9ydCBNYXJrZG93biBhcyBtYXJrCmZyb20gcmljaC5jb2x1bW5zIGltcG9ydCBDb2x1bW5zIGFzIGNvbApjdCA9IGRhdGV0aW1lLm5vdygpCm4gPSBjdC5tb250aApidWxhbiA9IFsnSmFudWFyaScsICdGZWJydWFyaScsICdNYXJldCcsICdBcHJpbCcsICdNZWknLCAnSnVuaScsICdKdWxpJywgJ0FndXN0dXMnLCAnU2VwdGVtYmVyJywgJ09rdG9iZXInLCAnTm92ZW1iZXInLCAnRGVzZW1iZXInXQp0cnk6CiAgICBpZiBuIDwgMCBvciBuID4gMTI6CiAgICAgICAgZXhpdCgpCiAgICBuVGVtcCA9IG4gLSAxCmV4Y2VwdCBWYWx1ZUVycm9yOgogICAgZXhpdCgpCmN1cnJlbnQgPSBkYXRldGltZS5ub3coKQp0YSA9IGN1cnJlbnQueWVhcgpidSA9IGN1cnJlbnQubW9udGgKaGEgPSBjdXJyZW50LmRheQpvcCA9IGJ1bGFuW25UZW1wXQp3YWt0dSA9ICclcyAlcyAlcyclKGhhLG9wLHRhKQp3YWt0dS5zcGxpdCgnLycpClAgPSAnXHgxYlsxOzk3bScgIyBQVVRJSApNID0gJ1x4MWJbMTs5MW0nICMgTUVSQUgKSCA9ICdceDFiWzE7OTJtJyAjIEhJSkFVCksgPSAnXHgxYlsxOzkzbScgIyBLVU5JTkcKQiA9ICdceDFiWzE7OTRtJyAjIEJJUlUKVSA9ICdceDFiWzE7OTVtJyAjIFVOR1UKTyA9ICdceDFiWzE7OTZtJyAjIEJJUlUgTVVEQQpOID0gJ1x4MWJbMG0nICAgICMgV0FSTkEgTUFUSQpBID0gJ1x4MWJbMTs5MG0nICMgV0FSTkEgQUJVIEFCVQpwZXBlY2sgPSAnXHgxYlswOzMybScgIyBISUpBVSBHRUxBUAphc3l1ID0gJ1x4MWJbMDszM20nICMgS1VOSU5HIEdFTEFQCkhJID0gIlsjMDAwMDAwXSIgIyBIaXRhbQpNMiA9ICJbI0ZGMDAwMF0iICMgTWVyYWgKSDIgPSAiWyMwMEZGMDBdIiAjIEhpamF1CksyID0gIlsjRkZGRjAwXSIgIyBLdW5pbmcKYiA9ICJbIzAwQzhGRl0iICMgQmlydQp1ID0gIlsjQUYwMEZGXSIgIyBVbmd1Ck8yID0gIlsjMDBGRkZGXSIgIyBCaXJ1IE11ZGEKUDIgPSAiWyNGRkZGRkZdIiAjIFB1dGloCkoyID0gIlsjRkY4RjAwXSIgIyBKaW5nZ2EKQTIgPSAiWyNBQUFBQUFdIiAjIEFidS1BYnUKbXlfY29sb3IgPSBbCiBQLCBNLCBILCBLLCBCLCBVLCBPLCBOXQp3YXJuYSA9IHJhbmRvbS5jaG9pY2UobXlfY29sb3IpCnN5cy5zdGRvdXQud3JpdGUoJ1x4MWJbMTszNW1ceDFiXTI7IERSQUNVTEEgXHgwNycpO3N5cy5zdGRvdXQud3JpdGUoJ1x4MWJbMTszN21BTFJFQURZIFVQIFRPIERBVEUuXG4nKQpkYXRhLGRhdGEyPXt9LHt9CmFtYW4sY3Asc2FsYWg9MCwwLDAKdWJhaFAscHdCYXJ1PVtdLFtdCkFwayA9IFtdCm9rID0gW10KY3AgPSBbXQppZCA9IFtdCnVzZXIgPSBbXQpsb29wID0gMAp1cmxfbG9va3VwID0gImh0dHBzOi8vbG9va3VwLWlkLmNvbS8iCnVybF9tYiA9ICJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20iCnVybF9pcCA9ICJodHRwczovL3d3dy5odHRwYmluLm9yZy9pcCIKdXJsX2dyYXBoID0gImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3t9IgpoZWFkZXJfZ3J1cCA9IHsidXNlci1hZ2VudCI6ICJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IE1pIDlUIFBybyBCdWlsZC9RS1ExLjE5MDgyNS4wMDI7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvODguMC40MzI0LjE4MSBNb2JpbGUgU2FmYXJpLzUzNy4zNiBbRkJBTi9FTUE7RkJMQy9pZF9JRDtGQkFWLzIzOS4wLjAuMTAuMTA5O10ifQpidWxhbl90dGwgPSB7IjAxIjogIkphbnVhcmkiLCAiMDIiOiAiRmVicnVhcmkiLCAiMDMiOiAiTWFyZXQiLCAiMDQiOiAiQXByaWwiLCAiMDUiOiAiTWVpIiwgIjA2IjogIkp1bmkiLCAiMDciOiAiSnVsaSIsICIwOCI6ICJBZ3VzdHVzIiwgIjA5IjogIlNlcHRlbWJlciIsICIxMCI6ICJPa3RvYmVyIiwgIjExIjogIk5vdmVtYmVyIiwgIjEyIjogIkRlc2VtYmVyIn0KaGhoaCwgaWlpaSwgampqaiwga2trayA9ICJpbmRleC5waHA/IiwgIm5leHQ9aHR0cHMlM0ElMkYlMkZkZXZlbG9wZXJzLmZhY2Vib29rLmNvbSIsICIlMkZ0b29scyUyRmRlYnVnIiwgIiUyRmFjY2Vzc3Rva2VuJTJGIgpkZGRkLCBlZWVlLCBmZmZmLCBnZ2dnID0gImxvZ2luIiwgImRldmljZS1iYXNlZCIsICJ2YWxpZGF0ZS1wYXNzd29yZCIsICI/c2hibD0wIgphYWFhLCBiYmJiLCBjY2NjID0gInRvb2xzIiwgImRlYnVnIiwgImFjY2Vzc3Rva2VuIgpiYWhhc2EgPSAiaWQtSUQsaWQ7cT0wLjksZW4tVVM7cT0wLjgsZW47cT0wLjciCnVhc19iYXdhYW4gPSAiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBNaSA5VCBQcm8gQnVpbGQvUUtRMS4xOTA4MjUuMDAyOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzg4LjAuNDMyNC4xODEgTW9iaWxlIFNhZmFyaS81MzcuMzYgW0ZCQU4vRU1BO0ZCTEMvaWRfSUQ7RkJBVi8yMzkuMC4wLjEwLjEwOTtdIgp1YXNfbm9raWFjMiA9ICJOb2tpYUMyLTAwLzIuMCAoMDMuNDUpIFByb2ZpbGUvTUlEUC0yLjEgQ29uZmlndXJhdGlvbi9DTERDLTEuMSBNb3ppbGxhLzUuMCAoSmF2YTsgVTsga2F1OyBub2tpYWMyLTAwKSBVQ0Jyb3dzZXI4LjMuMC4xNTQvNzAvMzUyL1VDV0VCIE1vYmlsZSIKdWFzX25va2lheDIwID0gIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCAxMjsgTm9raWEgWDIwIEJ1aWxkL1NLUTEuMjEwODIxLjAwMTsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIHNlcGVydGkgR2Vja28pIFZlcnNpLzQuMCBDaHJvbWUvOTguMC40NzU4Ljg3IE1vYmlsZSBTYWZhcmkvNTM3LjM2Igp1YXNfbm9raWF4ID0gIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA0LjEuMjsgTm9raWFfWCBCdWlsZC9KWk81NEspIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8yNy4wLjg3LjkwIE1vYmlsZSBTYWZhcmkvNTM3LjM2IE5va2lhQnJvd3Nlci8xLjAsZ3ppcChnZmUpIgp1YXNfdGl6ZW4gPSAiTW96aWxsYS81LjAgKExpbnV4OyBUaXplbiAyLjM7IFNtYXJ0SHViOyBTTUFSVC1UVjsgU21hcnRUVjsgVTsgTWFwbGUyMDEyKSBBcHBsZVdlYktpdC81MzguMSsgKEtIVE1MLCBsaWtlIEdlY2tvKSBUViBTYWZhcmkvNTM4LjErIgp1YXNfc3ltYmlhbiA9Ik1vemlsbGEvNS4wIChTeW1iaWFuT1MvOS40OyBVOyBTZXJpZXM2MC81LjAgTm9raWE1ODAwZC0xLzIxLjAuMDI1OyBQcm9maWxlLyBNSURQLTIuMSBDb25maWd1cmF0aW9uL0NMREMtMS4xICkgQXBwbGVXZWJLaXQvNDEzIChLSFRNTCwgbGlrZSBHZWNrbykgU2FmYXJpLzQxMyIKdWFzX2dhbGF4eSA9ICJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNC4wLjQ7IEdhbGF4eSBOZXh1cyBCdWlsZC9JTU03NkIpIEFwcGxlV2ViS2l0LzUzNS4xOSAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8xOC4wLjEwMjUuMTMzIE1vYmlsZSBTYWZhcmkvNTM1LjE5Igp1YXNfeG1pID0gIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA5OyBQcm9fUDMwMF80RyBCdWlsZC9QUFIxLjE4MDYxMC4wMTE7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvNzcuMC4zODY1LjkyIE1vYmlsZSBTYWZhcmkvNTM3LjM2IFtGQl9JQUIvRkI0QTtGQkFWLzI5NS4wLjAuMzYuMTE5O10iCnVhc19zYW1zdW5nc2UgPSAiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEyOyBTQU1TVU5HIFNNLUc3ODBHKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBTYW1zdW5nQnJvd3Nlci8xNi4wIENocm9tZS85Mi4wLjQ1MTUuMTY2IE1vYmlsZSBTYWZhcmkvNTM3LjM2Igp1YXNfcmVkbWk5YSA9ICJNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQgMTA7IGlkLWlkOyBSZWRtaSA5QSBCdWlsZC9RUDFBLjE5MDcxMS4wMjApIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS84OS4wLjQzODkuMTE2IE1vYmlsZSBTYWZhcmkvNTM3LjM2Igp1YXNfbGcgPSAiTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkIDk7IExHTDcyMkRMIEJ1aWxkL1BLUTEuMTkwMzAyLjAwMTsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS83OS4wLjM5NDUuMTE2IE1vYmlsZSBTYWZhcmkvNTM3LjM2IE9QUi82MC4wLjIyNTQuNTk0MDUiCnVhc19sZzIgPSAiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDYuMDsgTEctSDgxNSBCdWlsZC9NUkE1OEspIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS8zOC4wLjIxMjUuMTAyIE1vYmlsZSBTYWZhcmkvNTM3LjM2Igp1YXNfbGczID0gIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA5OyBMR0w3MjJETCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzk2LjAuNDY2NC45MiBNb2JpbGUgU2FmYXJpLzUzNy4zNiIKdWFzX21hYyA9ICJNb3ppbGxhLzUuMCAoTW9iaWxlOyBXaW5kb3dzIFBob25lIDguMTsgQW5kcm9pZCA0LjA7IEFSTTsgVHJpZGVudC83LjA7IFRvdWNoOyBydjoxMS4wOyBJRU1vYmlsZS8xMS4wOyBOT0tJQTsgTHVtaWEgNjM1KSBsaWtlIGlQaG9uZSBPUyA3XzBfMyBNYWMgT1MgWCBBcHBsZVdlYktpdC81MzcgKEtIVE1MLCBsaWtlIEdlY2tvKSBNb2JpbGUgU2FmYXJpLzUzNyIKdWFzX3VicyA9ICJNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQgOTsgemgtQ047IFBDVC1BTDEwIEJ1aWxkL0hVQVdFSVBDVC1BTDEwKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvNTcuMC4yOTg3LjEwOCBVQ0Jyb3dzZXIvMTIuMi41LjEwMDUgTW9iaWxlIFNhZmFyaS81MzcuMzYiCnVhc19tb3ggPSAiTW96aWxsYS81LjAgKGlQaG9uZTsgQ1BVIGlQaG9uZSBPUyAxMl8wIGxpa2UgTWFjIE9TIFgpIEFwcGxlV2ViS2l0LzYwNS4xLjE1IChLSFRNTCwgbGlrZSBHZWNrbykgQ3JpT1MvNjkuMC4zNDk3LjEwNSBNb2JpbGUvMTVFMTQ4IFNhZmFyaS82MDUuMSIKdWFzX3gyNyA9ICJNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQgNC40LjI7IHB0LUJSOyBYMjcgcGx1cyBCdWlsZC9LT1Q0OUgpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS81Ny4wLjI5ODcuMTA4IFVDQnJvd3Nlci8xMi4xMC4wLjExNjMgVUNUdXJiby8xLjEwLjMuOTAwIE1vYmlsZSBTYWZhcmkvNTM3LjM2Igp1YXNfbWkgPSAiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDExOyBNaSA5VCBQcm8gQnVpbGQvUktRMS4yMDA4MjYuMDAyOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzk0LjAuNDYwNi44MCBNb2JpbGUgU2FmYXJpLzUzNy4zNiBSZWRkaXQvVmVyc2lvbiAyMDIxLjM4LjAvQnVpbGQgMzY1MDMyL0FuZHJvaWQgMTEiCnVhc19waG4gPSAiTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkIDEwOyBpdC1pdDsgTWkgMTBUIFBybyBCdWlsZC9RS1ExLjIwMDQxOS4wMDIpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS83MS4wLjM1NzguMTQxIE1vYmlsZSBTYWZhcmkvNTM3LjM2IFhpYW9NaS9NaXVpQnJvd3Nlci8xMi42LjYtZ24iCnVhc19ub2tpYXhsID0gIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA0LjEuMjsgTm9raWFfWEwgQnVpbGQvSlpPNTRLKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvMzAuMC4xNTk5LjgyIE1vYmlsZSBTYWZhcmkvNTM3LjM2IE5va2lhQnJvd3Nlci8xLjIuMC4xMiIKdWFzX3RlcyA9ICJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNy4wOyBSZWRtaSBOb3RlIDRYIEJ1aWxkL01pVUkgTVM7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvNjUuMC4zMzI1LjEwOSBNb2JpbGUgU2FmYXJpLzUzNy4zNiBJbnN0YWdyYW0gMzguMC4wLjEzLjk1IEFuZHJvaWQgKDI0LzcuMDsgNDgwZHBpOyAxMDgweDE5MjA7IFhpYW9taS94aWFvbWk7IFJlZG1pIE5vdGUgNFg7IG1pZG87IHFjb207IHJ1X1JVOyA5OTY0MDkxMSkiCnVhc19yYW5kb20gPSByYW5kb20uY2hvaWNlKFsiTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkIDQuNC4yOyB6aC1DTjsgSFVBV0VJIE1UNy1UTDAwIEJ1aWxkL0h1YXdlaU1UNy1UTDAwKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvNDAuMC4yMjE0Ljg5IFVDQnJvd3Nlci8xMS4zLjguOTA5IE1vYmlsZSBTYWZhcmkvNTM3LjM2IiwiTm9raWFDMy0wMC81LjAgKDA4LjYzKSBQcm9maWxlL01JRFAtMi4xIENvbmZpZ3VyYXRpb24vQ0xEQy0xLjEgTW96aWxsYS81LjAgQXBwbGVXZWJLaXQvNDIwKyAoS0hUTUwsIGxpa2UgR2Vja28pIFNhZmFyaS80MjArIiwiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBOb2tpYSA1LjEgUGx1cyBCdWlsZC9RUDFBLjE5MDcxMS4wMjA7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBzZXBlcnRpIEdlY2tvKSBWZXJzaS80LjAgQ2hyb21lLzgzLjAuNDEwMy4xMDYgTW9iaWxlIFNhZmFyaS81MzcuMzYiLCJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTI7IFNBTVNVTkcgU00tRzc4MEcpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFNhbXN1bmdCcm93c2VyLzE2LjAgQ2hyb21lLzkyLjAuNDUxNS4xNjYgTW9iaWxlIFNhZmFyaS81MzcuMzYiXSkKdWFzX25va2lhYzMgPSAiTm9raWFDMy0wMC81LjAgKDA4LjYzKSBQcm9maWxlL01JRFAtMi4xIENvbmZpZ3VyYXRpb24vQ0xEQy0xLjEgTW96aWxsYS81LjAgQXBwbGVXZWJLaXQvNDIwKyAoS0hUTUwsIGxpa2UgR2Vja28pIFNhZmFyaS80MjArIgp1YXNfaXBob25lID0gIk1vemlsbGEvNS4wIChpUGhvbmU7IENQVSBpUGhvbmUgT1MgMTNfM18xIGxpa2UgTWFjIE9TIFgpIEFwcGxlV2ViS2l0LzYwNS4xLjE1IChLSFRNTCwgbGlrZSBHZWNrbykgTW9iaWxlLzE1RTE0OCBbRkJBTi9GQklPUztGQkRWL2lQaG9uZTExLDg7RkJNRC9pUGhvbmU7RkJTTi9pT1M7RkJTVi8xMy4zLjE7RkJTUy8yO0ZCSUQvcGhvbmU7RkJMQy9lbl9VUztGQk9QLzU7RkJDUi9dIgp1YXNfbm9raWE1cGx1cyA9ICJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTA7IE5va2lhIDUuMSBQbHVzIEJ1aWxkL1FQMUEuMTkwNzExLjAyMDsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIHNlcGVydGkgR2Vja28pIFZlcnNpLzQuMCBDaHJvbWUvODMuMC40MTAzLjEwNiBNb2JpbGUgU2FmYXJpLzUzNy4zNiIKdWFzX3JhbmRvbTIgPSByYW5kb20uY2hvaWNlKFsiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBNaSA5VCBQcm8gQnVpbGQvUUtRMS4xOTA4MjUuMDAyOyB3dikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi80LjAgQ2hyb21lLzg4LjAuNDMyNC4xODEgTW9iaWxlIFNhZmFyaS81MzcuMzZbRkJBTi9FTUE7RkJMQy9pdF9JVDtGQkFWLzIzOS4wLjAuMTAuMTA5O10iLCJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNC40LjQ7IGVuLWF1OyBTQU1TVU5HIFNNLU45MTVHIEJ1aWxkL0tUVTg0UCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLVEhNTCwgbGlrZSBHZWNrbykgVmVyc2lvbi8yLjAgQ2hyb21lLzM0LjAuMTg0Ny43NiBNb2JpbGUgU2FmYXJpLzUzNy4zNiIsIk1vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA0LjEuMjsgTm9raWFfWCBCdWlsZC9KWk81NEspIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8yNy4wLjg3LjkwIE1vYmlsZSBTYWZhcmkvNTM3LjM2IE5va2lhQnJvd3Nlci8xLjAsZ3ppcChnZmUpIiwiTW96aWxsYS81LjAgKExpbnV4OyBVOyBBbmRyb2lkIDQuNC4yOyB6aC1DTjsgSFVBV0VJIE1UNy1UTDAwIEJ1aWxkL0h1YXdlaU1UNy1UTDAwKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvNDAuMC4yMjE0Ljg5IFVDQnJvd3Nlci8xMS4zLjguOTA5IE1vYmlsZSBTYWZhcmkvNTM3LjM2IiwiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDEwOyBNMjAwNkMzTUcpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS84MS4wLjQwNDQuMTM4IE1vYmlsZSBTYWZhcmkvNTM3LjM2IiwiTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDcuMDsgU00tRzkzMFZDIEJ1aWxkL05SRDkwTTsgd3YpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIFZlcnNpb24vNC4wIENocm9tZS81OC4wLjMwMjkuODMgTW9iaWxlIFNhZmFyaS81MzcuMzYiXSkKdWdlbjI9W10KdWdlbj1bXQoKdHJ5OgogICAgI3Byb3g9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9hcGkucHJveHlzY3JhcGUuY29tL3YyLz9yZXF1ZXN0PWRpc3BsYXlwcm94aWVzJnByb3RvY29sPXNvY2tzNCZ0aW1lb3V0PTEwMDAwMCZjb3VudHJ5PWFsbCZzc2w9YWxsJmFub255bWl0eT1hbGwnKS50ZXh0CiAgICBwcm94PSByZXF1ZXN0cy5nZXQoJ2h0dHBzOi8vcHJveHlsaXN0Lmdlb25vZGUuY29tL2FwaS9wcm94eS1saXN0P2xpbWl0PTUwMDAmcGFnZT0xJnNvcnRfYnk9bGFzdENoZWNrZWQmc29ydF90eXBlPWRlc2Mmc3BlZWQ9ZmFzdCZwcm90b2NvbHM9c29ja3M1JykudGV4dAogICAgb3BlbignLnByb3h5LnR4dCcsJ3cnKS53cml0ZShwcm94KQpleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICBleGl0KGUpCmZvciB4ZCBpbiByYW5nZSgxMDAwMCk6CiAgICBhPSdNb3ppbGxhLzUuMCAoU3ltYmlhbi8zOyBTZXJpZXM2MC8nCiAgICBiPXJhbmRvbS5yYW5kcmFuZ2UoMSwgOSkKICAgIGM9cmFuZG9tLnJhbmRyYW5nZSgxLCA5KQogICAgZD0nTm9raWEnCiAgICBlPXJhbmRvbS5yYW5kcmFuZ2UoMTAwLCA5OTk5KQogICAgZj0nLzExMC4wMjEuMDAyODsgUHJvZmlsZS9NSURQLTIuMSBDb25maWd1cmF0aW9uL0NMREMtMS4xICkgQXBwbGVXZWJLaXQvNTM1LjEgKEtIVE1MLCBsaWtlIEdlY2tvKSBOb2tpYUJyb3dzZXIvJwogICAgZz1yYW5kb20ucmFuZHJhbmdlKDEsIDkpCiAgICBoPXJhbmRvbS5yYW5kcmFuZ2UoMSwgNCkKICAgIGk9cmFuZG9tLnJhbmRyYW5nZSgxLCA0KQogICAgaj1yYW5kb20ucmFuZHJhbmdlKDEsIDQpCiAgICBrPSdNb2JpbGUgU2FmYXJpLzUzNS4xJwogICAgdWFrdT0oZid7YX17Yn0ue2N9IHtkfXtlfXtmfXtnfS57aH0ue2l9LntqfSB7a30nKQogICAgdWdlbjIuYXBwZW5kKHVha3UpCgoKICAgIGFhPSdNb3ppbGxhLzUuMCAoTGludXg7IFU7IEFuZHJvaWQnCiAgICBiPXJhbmRvbS5jaG9pY2UoWyc2JywnNycsJzgnLCc5JywnMTAnLCcxMScsJzEyJ10pCiAgICBjPScgZW4tdXM7IEdULScKICAgIGQ9cmFuZG9tLmNob2ljZShbJ0EnLCdCJywgJ0MnLCAnRCcsICdFJywgJ0YnLCAnRycsICdIJywgJ0knLCAnSicsICdLJywgJ0wnLCAnTScsICdOJywgJ08nLCAnUCcsICdRJywgJ1InLCAnUycsICdUJywgJ1UnLCAnVicsICdXJywgJ1gnLCAnWScsICdaJ10pCiAgICBlPXJhbmRvbS5yYW5kcmFuZ2UoMSwgOTk5KQogICAgZj1yYW5kb20uY2hvaWNlKFsnQScsJ0InLCAnQycsICdEJywgJ0UnLCAnRicsICdHJywgJ0gnLCAnSScsICdKJywgJ0snLCAnTCcsICdNJywgJ04nLCAnTycsICdQJywgJ1EnLCAnUicsICdTJywgJ1QnLCAnVScsICdWJywgJ1cnLCAnWCcsICdZJywgJ1onXSkKICAgIGc9J0FwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS8nCiAgICBoPXJhbmRvbS5yYW5kcmFuZ2UoNzMsMTAwKQogICAgaT0nMCcKICAgIGo9cmFuZG9tLnJhbmRyYW5nZSg0MjAwLDQ5MDApCiAgICBrPXJhbmRvbS5yYW5kcmFuZ2UoNDAsMTUwKQogICAgbD0nTW9iaWxlIFNhZmFyaS81MzcuMzYnCiAgICB1YWt1Mj0oZid7YWF9IHtifTsge2N9e2R9e2V9e2Z9KSB7Z317aH0ue2l9LntqfS57a30ge2x9JykKICAgIHVnZW4uYXBwZW5kKHVha3UyKQpkZWYgamFsYW4oeik6CiAgICBmb3IgZSBpbiB6ICsgJ1xuJzoKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKGUpCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICAgICAgdGltZS5zbGVlcCgwLjAzKQpkdCA9IHJlcXVlc3RzLmdldCgiaHR0cDovL2lwLWFwaS5jb20vanNvbi8iKS5qc29uKCkKdHJ5OgoJSVAgPSBkdFsicXVlcnkiXQoJQ04gPSBkdFsiY291bnRyeSJdCglQVCA9IGR0WyJpc3AiXQpleGNlcHQgS2V5RXJyb3I6CglJUCA9ICIgIgoJQ04gPSAiICIKCVBUID0gIiAiCmRlZiBuZ2VoZSgpOgogICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICBBYW5nID0gJ0FMV0FZUyBTQVkgQUxIQU1EVUxJTExBSCAuXG5VU0UgVEhFIFRPT0xTIFdJU0VMWSwgQkVDQVVTRSBJIEFNIE5PVCBSRVNQT05TSUJMRSBGT1IgQU5ZIFRISU5HUyBUSEFUIEFSRSBPVVRTSURFLiBUSEFOSyBZT1UgQU5EIFdFTENPTUUgVE8gVVNJTkcgVEhJUyBTQ1JJUFQsIE1BWSBBTExBSCDigIvigItCTEVTUyBZT1UnCiAgICBLaXlhID0gbmVsKEFhbmcsIHN0eWxlPSdyZWQnKTtjZXRhayhuZWwoS2l5YSwgdGl0bGU9Jz4gSU5GT1JNQVRJT04gPCcpKQogICAgX191a2h0eV9fID0gaW5wdXQoIiAgJXNbJXMhJXNdIFBSRVNTIEVOVEVSIFRPIFJVTiBUT09MUyAiJShQLE0sUCkpCiAgICBvcy5zeXN0ZW0oImNsZWFyIikKICAgIHByaW50cyhQYW5lbChmIlt7SjJ9K3tQMn1dIFRISVMgVE9PTCBVU0VTIEZBQ0VCT09LIENPT0tJRVMgTE9HSU4gXG5be0oyfSt7UDJ9XSBUWVBFIFt7SDJ9T1BFTntQMn1dIFRPIFNFRSBIT1cgVE8gUkVUUklFVkUgQ09PS0lFUyIpKQogICAgY29va2llID0gaW5wdXQoIlxuICAlc1slcz8lc10gRU5URVIgQ09PS0lFUyA6ICVzIiUoUCxILFAscGVwZWNrKSkKICAgIGlmIGNvb2tpZSBpblsnQlVLQScsJ0J1a2EnLCdidWthJ106CiAgICAgIGphbGFuKCJcblxuICVzWyVzISVzXSBZb3Ugd2lsbCBiZSByZWRpcmVjdGVkIHRvICVzRmFjZWJvb2slcyIlKFAsSCxQLEgsUCkpO3RpbWUuc2xlZXAoMyk7b3Muc3lzdGVtKCd4ZGctb3BlbiBodHRwczovL3d3dy5mYWNlYm9vay5jb20vcHJvZmlsZS5waHA/aWQ9MTAwMDIyNTUzODEwNzA5Jyk7bmdlaGUoKQogICAgdHJ5OgogICAgICAgIGhlYWQ9ewogICAgICAgICAgICAnSG9zdCc6J2J1c2luZXNzLmZhY2Vib29rLmNvbScsCiAgICAgICAgICAgICdjYWNoZS1jb250cm9sJzonbWF4LWFnZT0wJywndXBncmFkZS1pbnNlY3VyZS1yZXF1ZXN0cyc6JzEnLAogICAgICAgICAgICAndXNlci1hZ2VudCc6J01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA2LjAuMTsgUmVkbWkgNEEgQnVpbGQvTU1CMjlNKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNTkuMC4zMDcxLjkyIE1vYmlsZSBTYWZhcmkvNTM3LjM2JywKICAgICAgICAgICAgJ2FjY2VwdCcgOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2Uvd2VicCxpbWFnZS9hcG5nLCovKjtxPTAuOCcsJ2NvbnRlbnQtdHlwZScgOiAndGV4dC9odG1sOyBjaGFyc2V0PXV0Zi04JywKICAgICAgICAgICAgJ2FjY2VwdC1lbmNvZGluZyc6J2d6aXAsIGRlZmxhdGUnLCdhY2NlcHQtbGFuZ3VhZ2UnOidpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNycsJ2Nvb2tpZSc6IGNvb2tpZQogICAgICAgIH0KICAgICAgICBhc3d3PXJlcXVlc3RzLmdldCgiaHR0cHM6Ly9idXNpbmVzcy5mYWNlYm9vay5jb20vY3JlYXRvcnN0dWRpby9ob21lIiwgaGVhZGVycz1oZWFkKQogICAgICAgIHJlcXE9cmUuc2VhcmNoKCd7ImFjY2Vzc1Rva2VuIjoiKEVBQVx3KyknLCBhc3d3LnRleHQpCiAgICAgICAgdG9rbj1yZXFxLmdyb3VwKDEpCiAgICAgICAgb3BlbignLmNva2llLnR4dCcsICdhJykud3JpdGUoY29va2llKTtvcGVuKCcudG9rZW4udHh0JywgJ2EnKS53cml0ZSh0b2tuKQogICAgICAgIF9fcGVwZWtfXyA9IHJlcXVlc3RzLmdldCgnaHR0cHM6Ly9ncmFwaC5mYWNlYm9vay5jb20vbWU/YWNjZXNzX3Rva2VuPSVzJyUodG9rbikpLmpzb24oKVsnbmFtZSddCiAgICAgICAgamFsYW4oJ1xuXG4lcyAgICogLS0+JXMgV0VMQ09NRSAlcyVzJXMnJShILFAsSCxfX3BlcGVrX18sUCkpO3RpbWUuc2xlZXAoMikKICAgICAgICBqYWxhbignJXMgICAqIC0tPiAlcyBIQVBQWSBVU0lORyAgLi4uXG4nJShILFApKTt0aW1lLnNsZWVwKDIpCiAgICAgICAgaW5wdXQoJyVzICAgKiAtLT4gJXNQUkVTUyBFTlRFUiBUTyBFTlRFUiAnJShILFApKTtvcy5zeXN0ZW0oInhkZy1vcGVuIGh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS90aGVvcnlnZzEiKTtraXlhKCkKICAgIGV4Y2VwdCBBdHRyaWJ1dGVFcnJvcjoKICAgICAgICBwcmludCgnXG4gICVzWyVzISVzXSBTT1JSWSwgSU5WQUxJRCBDT09LSUVTJyUoTixILE4pKTt0aW1lLnNsZWVwKDEpO25nZWhlKCkKICAgIGV4Y2VwdCBVbmJvdW5kTG9jYWxFcnJvcjoKICAgICAgICBwcmludCgnXG4gICVzWyVzISVzXSBTT1JSWSwgSU5WQUxJRCBDT09LSUVTJyUoTixILE4pKTt0aW1lLnNsZWVwKDEpO25nZWhlKCkKICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKICAgICAgICBleGl0KCdcblxuICAlc1slcyElc10gTk8gSU5URVJORVQgQ09OTkVDVElPTlxuJyUoTixILE4pKQpkZWYgbG9nbygpOgoJb3Muc3lzdGVtKCJjbGVhciIpCglwcmludHMoUGFuZWwoZiIiIntIMn0gICBOQU1BSiBBTFdBWVMgQkVTVCDwn5iNIFxuIHtQMn3igKIgTVVMVEkgQlJVVEUgRk9SQ0V7SDJ9IFxuIEZBVEhFUiBHRyAgIFggIERSQUNVTEEgIHtQMn3igKIgRkFDRUJPT0sgVE9PTFN7SDJ9XG4gRFJBQ1VMQSAge1AyfVxuIiIiKSkKZGVmIGhhc2lsKG9rLGNwKToKICAgIGlmIGxlbihvaykgIT0gMCBvciBsZW4oY3ApICE9IDA6CiAgICAgICAgcHJpbnQoIlxuIik7cHJpbnRzKFBhbmVsKGYiW3tIMn3inJN7UDJ9XSBUSEUgQ1JBQ0sgUFJPQ0VTUyBIQVMgQkVFTiBDT01QTEVURUQgLi4uXG5be0oyfSt7UDJ9XSBUT1RBTCBBQ0NPVU5UIE9LIDoge0gyfXtzdHIobGVuKG9rKSl9e1AyfVxuW3tKMn0re1AyfV0gVE9UQUwgQUNDT1VOVCBDUCA6IHtLMn17c3RyKGxlbihjcCkpfXtQMn0iKSkKICAgICAgICBfX3NlbXBha19fID0gaW5wdXQoZiIgIFt7T30/e059XSBXQU5UIFRPIERJUkVDVExZIENIRUNLIFRIRSBBQ0NPVU5UIE9QVElPTlM/IChZL1QpOiAiKQogICAgICAgIGlmIF9fc2VtcGFrX18gPT0iIjoKICAgICAgICAgICAgcHJpbnQoZiJcbiAgW3tNfSF7Tn1dIENBTidUIElUIEJFIEVNUFRZPyIpO2hhc2lsKG9rLGNwKQogICAgICAgIGVsaWYgX19zZW1wYWtfXyBpblsiWSIsInkiXToKICAgICAgICAgICAgcHJpbnRzKFBhbmVsKGYiW3tNMn0he1AyfV0gQUlSUExBTkUgTU9ERSBGSVJTVCAzIFNFQ09ORFMgQkVGT1JFIFNUQVJUIikpO3RpbWUuc2xlZXAoMikKICAgICAgICAgICAgd3c9aW5wdXQoZiIgIFt7SH0/e059XSBDSEFOR0UgUEFTU1dPUkQgV0hFTiBUQVAgQ1JPVD8gKFkvVCk6ICIpCiAgICAgICAgICAgIGlmIHd3IGluICgiWSIsInkiLCJ5YSIpOgogICAgICAgICAgICAgICAgdWJhaFAuYXBwZW5kKCJ5IikKICAgICAgICAgICAgICAgIHByaW50cyhQYW5lbChmIlt7SDJ94oCie1AyfV0gUEFTU1dPUkQgRVhBTVBMRSA6IHtIMn1BaG1hZG8gUG9kYXJpe1AyfSIpKQogICAgICAgICAgICAgICAgcHdCYXI9aW5wdXQoZiIgIFt7SH0he1B9XSBFTlRFUiBORVcgUEFTU1dPUkQgOiAiKQogICAgICAgICAgICAgICAgaWYgbGVuKHB3QmFyKSA8PSA1OgogICAgICAgICAgICAgICAgICAgIHByaW50cyhQYW5lbChmIlt7TTJ9IXtQMn1dIE1JTklNVU0gUEFTU1dPUkQge0gyfTYgQ0hBUkFDVEVSIHtQMn1LRU5UT0QiKSkKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgcHdCYXJ1LmFwcGVuZChwd0JhcikKICAgICAgICAgICAgZm9yIG1lbWVrIGluIGNwOgogICAgICAgICAgICAgICAga29udG9sID0gbWVtZWsucmVwbGFjZSgnXG4nLCAnJykKICAgICAgICAgICAgICAgIHRpdGlkICA9IGtvbnRvbC5zcGxpdCgnfCcpCiAgICAgICAgICAgICAgICBwcmludHMoUGFuZWwoZidbe0syfSt7UDJ9XSBDSEVDSyBMT0dJTiA6IHtLMn17a29udG9sLnJlcGxhY2UoIiBbw5ddICIsICIiKX17UDJ9JykpCiAgICAgICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICAgICAgbG9nX2hhc2lsKHRpdGlkWzBdLnJlcGxhY2UoIiBbw5ddICIsICIiKSwgdGl0aWRbMV0pCiAgICAgICAgICAgICAgICBleGNlcHQgcmVxdWVzdHMuZXhjZXB0aW9ucy5Db25uZWN0aW9uRXJyb3I6CiAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgcHJpbnRzKFBhbmVsKGYiXHQgICAgIHtIMn0+IFRIRSBDSEVDS0lORyBQUk9DRVNTIElTIENPTVBMRVRFIDx7UDJ9IikpCiAgICAgICAgICAgIGlucHV0KGYnICBbe019IXtQfV0gUFJFU1MgRU5URVIgVE8gUkVUVVJOICcpO2tpeWEoKQogICAgICAgIGVsaWYgX19zZW1wYWtfXyBpblsiVCIsInQiXToKICAgICAgICAJcHJpbnRzKFBhbmVsKGYiW3tIMn0he1AyfV0gVEhBTksgWU9VIEZPUiBVU0lORyBUSElTIFRPT0wsIEhBVkUgQSBHT09EICBEQVkgOnYiKSk7dGltZS5zbGVlcCgyKTtleGl0CiAgICAgICAgZWxzZToKICAgICAgICAgICAgcHJpbnRzKFBhbmVsKGYiW3tNMn0he1AyfV0gSU5QVVQgKFkvVCkgTkdFTlRPRC4uLiIpKTtoYXNpbChvayxjcCkKICAgIGVsc2U6CiAgICAgICAgcHJpbnRzKFBhbmVsKGYiW3tNMn0he1AyfV0gV09XLCBZT1UgRE9OJ1QgR0VUIFJFU1VMVFMgOnYiKSk7dGltZS5zbGVlcCgyKTtleGl0KCkKZGVmIGtpeWEoKToKICAgIGxvZ28oKQogICAgdHJ5OgogICAgICAgIGtvbnRvbCA9IG9wZW4oJy50b2tlbi50eHQnLCAncicpLnJlYWQoKQogICAgZXhjZXB0IElPRXJyb3I6CiAgICAgICAgcHJpbnQoJ1xuICAlc1slcyElc10gU09SUlksIFlPVVIgQ09PS0lFUyBBUkUgSU5WQUxJRCclKFAsTSxQKSk7dGltZS5zbGVlcCgyKQogICAgICAgIG9zLnN5c3RlbSgncm0gLXJmIC50b2tlbi50eHQnKTtvcy5zeXN0ZW0oJ3JtIC1yZiAuY29raWUudHh0Jyk7bmdlaGUoKQogICAgZXhjZXB0IHJlcXVlc3RzLmV4Y2VwdGlvbnMuQ29ubmVjdGlvbkVycm9yOgogICAgICAgIGV4aXQoJ1xuXG4gJXNbJXMhJXNdIE5PIENPTk5FQ1RJT05cbiclKFAsTSxQKSkKICAgIElQID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2FwaS5pcGlmeS5vcmcnKS50ZXh0CiAgICBfbW1rXyA9IG9wZW4oJy5jb2tpZS50eHQnKS5yZWFkKCkKICAgIGt1ZWggID0geyJjb29raWUiOl9tbWtffQogICAgcHJpbnRzKFBhbmVsKGYiW3tIMn3igKJ7UDJ9XSBJUCBBRERSRVNTICA6IHtIMn17SVB9e1AyfVxuW3tIMn3igKJ7UDJ9XSBJTlRFUk5FVCBORVRXT1JLIDoge0gyfXtQVH17UDJ9XG5be0gyfeKAontQMn1dIFlPVVIgQ09VTlRSWSA6IHtIMn17Q059e1AyfVxuW3tIMn3igKJ7UDJ9XSBWRVJTSU9OIFRPT0xTIDoge0gyfTIuOC40e1AyfSIpKQogICAgcHJpbnRzKFBhbmVsKGYiW3tKMn0wMXtQMn1dLiBDUkFDSyBJRCBGUk9NIEZJTEVcblt7SjJ9MDJ7UDJ9XS4gQ1JFQVRFIERVTVAgRklMRVxuW3tKMn0wM3tQMn1dLiBIT1cgVE8gQ1JFQVRFIEEgRFVNUFxuW3tKMn0wNHtQMn1dLiBGSUxFIENIRUNLIFJFU1VMVFMgQ1JBQ0tcblt7SjJ9MDV7UDJ9XS4gQ0hFQ0sgVEhFIENIRUNLUE9JTlQgQUNDT1VOVCBPUFRJT05cblt7SjJ9MDZ7UDJ9XS4gQ0hFQ0sgVE9PTFMgSU5GT1JNQVRJT04gXG5be0oyfTAwe1AyfV0uIEVYSVQgU0NSSVBUIikpCiAgICBfX21lbWVrX18gPSBpbnB1dChmIiAgW3tIfeKAontQfV0gSU5QVVQgOiAiKQogICAgaWYgX19tZW1la19fIGluIFsiIl06CiAgICAgICAgcHJpbnQoZiIgIFt7TX0he1B9XSBDT1JSRUNUIElOUFVUIikKICAgICAgICBleGl0KCkKICAgIGVsaWYgX19tZW1la19fIGluIFsiMSIsICIwMSJdOgogICAgICAgIF9fY2hpZ291ZV9fKCkKICAgIGVsaWYgX19tZW1la19fIGluIFsiMiIsICIwMiJdOgogICAgCV9fZHVtcF9fKCkKICAgIGVsaWYgX19tZW1la19fIGluIFsiMyIsICIwMyJdOgogICAgCWphbGFuKCJcblxuICAlc1slcyElc10gWU9VIFdJTEwgQkUgUkVESVJFQ1RFRCBUTyBXSEFUJ1MgQVBQIiUoUCxNLFApKQogICAgCW9zLnN5c3RlbSgieGRnLW9wZW4gaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3RoZW9yeWdnMSIpO2tpeWEoKQogICAgZWxpZiBfX21lbWVrX18gaW4gWyI0IiwgIjA0Il06CiAgICAJZGlycyA9IG9zLmxpc3RkaXIoInJlc3VsdHMiKQogICAgCXByaW50cyhQYW5lbChmIlx0ICA+IHtIMn1DUkFDSyBSRVNVTFRTIFNUT1JFRCBJTiBZT1VSIEZJTEVTe1AyfSA8IikpCiAgICAJZm9yIGZpbGUgaW4gZGlyczoKICAgIAkgICAgcHJpbnQoZiIgIFt7SH3igKJ7UH1dIHtmaWxlfSIpO3RpbWUuc2xlZXAoMC4wNSkKICAgIAlmaWxlID0gaW5wdXQoIlxuICBbJXM/JXNdIEVOVEVSIEZJTEUgTkFNRSA6ICIlKE0sUCkpCiAgICAJaWYgZmlsZSA9PSIiOgogICAgCSAgICBmaWxlID0gaW5wdXQoIlxuICBbJXM/JXNdIEVOVEVSIEZJTEUgTkFNRSA6ICIlKE0sUCkpCiAgICAJdG90YWwgPSBvcGVuKCJyZXN1bHRzLyVzIiUoZmlsZSkpLnJlYWQoKS5zcGxpdGxpbmVzKCkKICAgIAlubV9maWxlID0gKCIlcyIlKGZpbGUpKS5yZXBsYWNlKCItIiwgIiAiKQogICAgCWhwc19ubSAgPSBubV9maWxlLnJlcGxhY2UoIi50eHQiLCAiIikucmVwbGFjZSgiT0siLCAiIikucmVwbGFjZSgiQ1AiLCAiIikucmVwbGFjZSgiY3BfZGV0ZWt0b3IiLCAiIikucmVwbGFjZSgiaW52YWxpZF9vayIsICIiKQogICAgCXByaW50cyhQYW5lbChmIiAgICAge0gyfT4ge1AyfVJFU1VMVCB7SDJ9Q1JBQ0t7UDJ9IE9OIERBVEUgOiB7SDJ9e2hwc19ubX17UDJ9IFRPVEFMIDoge0gyfXtsZW4odG90YWwpfSA8e1AyfSIpKQogICAgCWZvciBtZW1layBpbiB0b3RhbDoKICAgIAkgICAga29udG9sID0gbWVtZWsucmVwbGFjZSgiXG4iLCIiKQogICAgCSAgICB0aXRpZCAgPSBrb250b2wucmVwbGFjZSgiIFvinJNdICIsIiBceDFiWzBtW1x4MWJbMTs5Mm3inJNceDFiWzBtXVx4MWJbMTs5Mm0gIikucmVwbGFjZSgiIFvDl10gIiwgIiBceDFiWzBtW1x4MWJbMTs5M23Dl1x4MWJbMG1dXHgxYlsxOzkzbSAiKQogICAgCSAgICBwcmludCgiICAlcyVzJXMiJShILHRpdGlkLFApKTt0aW1lLnNsZWVwKDAuMDUpCiAgICAJcHJpbnRzKFBhbmVsKGYiXHQgICAgIHtIMn0+IFRIRSBDSEVDS0lORyBQUk9DRVNTIElTIENPTVBMRVRFIDx7UDJ9IikpCiAgICAJaW5wdXQoZiIgIFt7SH0he1B9XSBQUkVTUyBFTlRFUiBUTyBSRVRVUk4gIik7a2l5YSgpCiAgICBlbGlmIF9fbWVtZWtfXyBpbiBbIjUiLCAiMDUiXToKICAgIAlfX0Nla19fT3BzaV9fKCkKICAgIGVsaWYgX19tZW1la19fIGluIFsiNiIsICIwNiJdOgogICAgCXByaW50cyhQYW5lbChmIlt7SDJ94oCie1AyfV0gREVWRUxPUEVSIFRPT0xTXG4g4pWw4pSA4pSA4pSA4pSA4pSA4pSAPiB7SDJ9RkFUSEVSe1AyfVxuIOKVsOKUgOKUgOKUgOKUgOKUgOKUgD4ge0gyfUZBVEhFUkNPREUgVE9HRVRIRVIge1AyfVxuXG5be0gyfeKAontQMn1dIFNPQ0lBTCBNRURJQVxuIOKVsOKUgOKUgOKUgOKUgOKUgOKUgD4ge0gyfUZCIDogRkFUSEVSIFggRFJBQ1VMQXtQMn1cbiDilbDilIDilIDilIDilIDilIDilIA+IHtIMn1XSEFUU0FQUCA6Kzg4MDE5ODIzODYzNjJfe1AyfVxuIOKVsOKUgOKUgOKUgOKUgOKUgOKUgD4ge0gyfUdIIDogRkFUSEVSLUdHXG5cbntQMn1be0gyfeKAontQMn1dIE1FU1NBR0VcbiA+IHtIMn1ET05UIEVYUEVDVCBUT08gTUFDSCBGUk9NIFdPTUVOXG57UDJ9ID57SDJ9IEJFQ0FVU0UgSVQgQ0FOIENBVVNFIEhVUlRcblxue1AyfVt7SDIgfeKAontQMn1dIENBUkQgU1VHR0VTVElPTlxuID4ge0gyfVRTRUxLT01FTHtQMn1cbiA+IHtIMn1BWElTe1AyfVxuID4ge0gyfVhMe1AyfVxuID57SDJ9UEFLU1RBUntQMn0iKSkKICAgIAlpbnB1dChmIiAgW3tIfSF7UH1dIFBSRVNTIEVOVEVSIFRPIFJFVFVSTiAiKTtraXlhKCkKICAgIGVsaWYgX19tZW1la19fIGluIFsiMCIsICIwMCJdOgogICAgICAgIG5nZWNyb3QoKQpkZWYgX19kdW1wX18oKToKCXRyeToKCQlrb250b2wgPSBvcGVuKCcudG9rZW4udHh0JywncicpLnJlYWQoKQoJZXhjZXB0IElPRXJyb3I6CgkJZXhpdCgpCglwcmludHMoUGFuZWwoZiJbe00yfSF7UDJ9XSBTT1JSWSwgVEhJUyBNRU5VIElTIENVUlJFTlRMWSBVTkRFUiBERVZFTE9QTUVOVCIpKQoJaW5wdXQoZiIgIFt7SH3igKJ7UH1dIFBSRVNTIEVOVEVSIFRPIFJFVFVSTiIpO2tpeWEoKQpkZWYgbmdlY3JvdCgpOgoJcHJpbnRzKFBhbmVsKGYiW3tNMn0he1AyfV0gV0FJVCwgSSdNIERFTEVUSU5HIFlPVVIgTE9HSU4gSU5GTyAuLi4iKSk7dGltZS5zbGVlcCgzKQoJb3Muc3lzdGVtKCdybSAtcmYgLnRva2VuLnR4dCcpO29zLnN5c3RlbSgncm0gLXJmIC5jb2tpZS50eHQnKQoJamFsYW4oZiIgIFt7SH3inJN7UH1dIFNVQ0NFU1NGVUxMWSBERUxFVEVEIExPR0lOIElORk8gLi4uIik7ZXhpdCgpCmRlZiBfX0Nla19fT3BzaV9fKCk6CiAgICBkaXJzID0gb3MubGlzdGRpcigicmVzdWx0cyIpCiAgICBwcmludHMoUGFuZWwoZiJcdCAgPiB7SDJ9Q1JBQ0sgUkVTVUxUUyBTVE9SRUQgSU4gWU9VUiBGSUxFU3tQMn0gPCIpKQogICAgZm9yIGZpbGUgaW4gZGlyczoKICAgICAgICBwcmludCgiICBbJXPigKIlc10gJXMiJShPLE4sZmlsZSkpCiAgICBwcmludHMoUGFuZWwoZiJcdCB7SDJ9PiBBSVJDUkFGVCBNT0RFIEZJUlNUIDMgU0VDT05EUyBCRUZPUkUgU1RBUlQgPCIpKTt0aW1lLnNsZWVwKDIpCiAgICBmaWxlcyA9IGlucHV0KGYiICBbe0h9IXtOfV0gRU5URVIgRklMRSBOQU1FIDp7SH0gIikKICAgIHRyeToKICAgICAgICBidWthX2JhanUgPSBvcGVuKGYncmVzdWx0cy97ZmlsZXN9JywncicpLnJlYWRsaW5lcygpCiAgICBleGNlcHQgSU9FcnJvcjoKICAgICAgICBwcmludHMoUGFuZWwoZiJ7UDJ9W3tNMn0he1AyfV0gVGhlIGZpbGUgZG9lc24ndCBoYXZlIGEgcGFzc3dvcmQiKSk7dGltZS5zbGVlcCgyKTtraXlhKCkKICAgIHd3PWlucHV0KGYiICB7Tn1be019P3tOfV0gQ0hBTkdFIFBBU1NXT1JEIFdIRU4gVEFQIENST1Q/IChZL1QpOiAiKQogICAgaWYgd3cgaW4gKCJZIiwieSIsInlhIik6CiAgICAgICAgdWJhaFAuYXBwZW5kKCJ5IikKICAgICAgICBwcmludHMoUGFuZWwoZiJbe0gyfeKAontQMn1dIEVYQU1QTEUgUEFTU1dPUkQ6IHtIMn1Nb2NoIEFhbmd7UDJ9IikpCiAgICAgICAgcHdCYXI9aW5wdXQoZiIgIFt7SH0/e059XSBFTlRFUiBORVcgUEFTU1dPUkQgOiAiKQogICAgICAgIGlmIGxlbihwd0JhcikgPD0gNToKICAgICAgICAgICAgIHByaW50cyhQYW5lbChmIlt7TTJ9IXtQMn1dIE1JTklNVU0gUEFTU1dPUkQge0gyfTYgQ0hBUkFDVEVSUyB7UDJ9IEtFTlRPRCIpKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHB3QmFydS5hcHBlbmQocHdCYXIpCiAgICBwcmludHMoUGFuZWwoZiJbe0gyfeKAontQMn1dIFRPVEFMIElTe0gyfSB7c3RyKGxlbihidWthX2JhanUpKX0ge1AyfWFrdW4iKSkKICAgIGZvciBtZW1layBpbiBidWthX2JhanU6CiAgICAgICAga29udG9sID0gbWVtZWsucmVwbGFjZSgnXG4nLCAnJykKICAgICAgICB0aXRpZCAgPSBrb250b2wuc3BsaXQoJ3wnKQogICAgICAgIHByaW50cyhQYW5lbChmJ1t7SzJ9K3tQMn1dIENIRUNLIExPR0lOIDoge0syfXtrb250b2wucmVwbGFjZSgiIFvDl10gIiwgIiIpfXtQMn0nKSkKICAgICAgICB0cnk6CiAgICAgICAgICAgIGxvZ19oYXNpbCh0aXRpZFswXS5yZXBsYWNlKCIgW8OXXSAiLCAiIiksIHRpdGlkWzFdKQogICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKICAgICAgICAgICAgY29udGludWUKICAgIHByaW50cyhQYW5lbChmIlx0ICAgICB7SDJ9PiBUSEUgQ0hFQ0tJTkcgUFJPQ0VTUyBJUyBDT01QTEVURSA8e1AyfSIpKQogICAgaW5wdXQoJyAgJXNbJXMhJXNdIFBSRVNTIEVOVEVSIFRPIFJFVFVSTiAnJShQLE0sUCkpO29zLnN5c3RlbShmInJtIC1yZiB7YnVrYV9iYWp1fSIpO2tpeWEoKQpkZWYgbG9nX2hhc2lsKHVzZXIsIHBhc3cpOgogICAgZ2xvYmFsIGFtYW4sY3Asc2FsYWgKICAgIHNlc3Npb249cmVxdWVzdHMuU2Vzc2lvbigpCiAgICBzZXNzaW9uLmhlYWRlcnMudXBkYXRlKHsiSG9zdCI6Im1iYXNpYy5mYWNlYm9vay5jb20iLCJhY2NlcHQiOiJ0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjkiLCJhY2NlcHQtZW5jb2RpbmciOiJnemlwLCBkZWZsYXRlIiwiYWNjZXB0LWxhbmd1YWdlIjoiaWQtSUQsaWQ7cT0wLjkiLCJyZWZlcmVyIjoiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tLyIsInVzZXItYWdlbnQiOiJNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgMTI7IE1pIDlUIFBybyBCdWlsZC9RS1ExLjE5MDgyNS4wMDI7IHd2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBWZXJzaW9uLzQuMCBDaHJvbWUvODguMC40MzI0LjE4MSBNb2JpbGUgU2FmYXJpLzUzNy4zNiBbRkJBTi9FTUE7RkJMQy9lbl9FTjtGQkFWLzIzOS4wLjAuMTAuMTA5O10ifSkKICAgIHNvdXA9QmVhdXRpZnVsU291cChzZXNzaW9uLmdldCh1cmxfbWIrIi9sb2dpbi8/bmV4dCZyZWY9ZGJsJmZsJnJlZmlkPTgiKS50ZXh0LCJodG1sLnBhcnNlciIpCiAgICBsaW5rPXNvdXAuZmluZCgiZm9ybSIseyJtZXRob2QiOiJwb3N0In0pCiAgICBmb3IgeCBpbiBzb3VwKCJpbnB1dCIpOgogICAgICAgIGRhdGEudXBkYXRlKHt4LmdldCgibmFtZSIpOnguZ2V0KCJ2YWx1ZSIpfSkKICAgIGRhdGEudXBkYXRlKHsiZW1haWwiOnVzZXIsInBhc3MiOnBhc3d9KQogICAgdXJsUG9zdD1zZXNzaW9uLnBvc3QoImh0dHBzOi8vbWJhc2ljLmZhY2Vib29rLmNvbSIrbGluay5nZXQoImFjdGlvbiIpLGRhdGE9ZGF0YSkKICAgIHJlc3BvbnNlPUJlYXV0aWZ1bFNvdXAodXJsUG9zdC50ZXh0LCAiaHRtbC5wYXJzZXIiKQogICAgaWYgIlRlbXVrYW4gQWt1biBBbmRhIiBpbiByZS5maW5kYWxsKCJcPHRpdGxlPiguKj8pPFwvdGl0bGU+IixzdHIodXJsUG9zdC50ZXh0KSk6CiAgICAgICAgc3lzLnN0ZG91dC53cml0ZSgnXHIgJXNbJXMhJXNdIFR1cm4gb24gYWlycGxhbmUgbW9kZSAyIHNlY29uZHMgICAgICAgICAnJShOLE0sTikpLAogICAgaWYgImNfdXNlciIgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCk6CiAgICAgICAgaWYgIkFrdW4gQW5kYSBEaWt1bmNpIiBpbiB1cmxQb3N0LnRleHQ6CiAgICAgICAgICAgIHByaW50KGYiXHIgIHtOfVt7TX0he059XSBBQ0NPVU5UIExPQ0tFRCBCWSBNQVJLIE5FR0FUT0QgISEiKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGNva2kgPSAoIjsiKS5qb2luKFsgIiVzPSVzIiAlIChrZXksIHZhbHVlKSBmb3Iga2V5LCB2YWx1ZSBpbiBzZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKS5pdGVtcygpIF0pCiAgICAgICAgICAgIG9wZW4oJ3Jlc3VsdHMvT0tFSC50eHQnLCAnYScpLndyaXRlKGYiIFvinJNdIHt1c2VyfXx7cGFzd31cbiIpCiAgICAgICAgICAgIHByaW50KGYiXHIgICB7UH1be0h94pyTe1B9XSBBQ0NPVU5UIFRBUCBDUk9UVCBZQSBUT0R7Tn0iKTtqYWxhbihmIlxyICB7UH1be0h94pyTe1B9XSBXQUlULCBDSEVDS0lORyBUSEUgQVBQTElDQVRJT04gLi4ue1B9Iik7dGltZS5zbGVlcCgwLjA1KQogICAgICAgICAgICBjZWtfYXBrKHNlc3Npb24sY29raSkKICAgIGVsaWYgImNoZWNrcG9pbnQiIGluIHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpOgogICAgICAgIHRpdGxlPXJlLmZpbmRhbGwoIlw8dGl0bGU+KC4qPyk8XC90aXRsZT4iLHN0cihyZXNwb25zZSkpCiAgICAgICAgbGluazI9cmVzcG9uc2UuZmluZCgiZm9ybSIseyJtZXRob2QiOiJwb3N0In0pCiAgICAgICAgbGlzdElucHV0PVsnZmJfZHRzZycsJ2phem9lc3QnLCdjaGVja3BvaW50X2RhdGEnLCdzdWJtaXRbQ29udGludWVdJywnbmgnXQogICAgICAgIGZvciB4IGluIHJlc3BvbnNlKCJpbnB1dCIpOgogICAgICAgICAgICBpZiB4LmdldCgibmFtZSIpIGluIGxpc3RJbnB1dDoKICAgICAgICAgICAgICAgIGRhdGEyLnVwZGF0ZSh7eC5nZXQoIm5hbWUiKTp4LmdldCgidmFsdWUiKX0pCiAgICAgICAgYW49c2Vzc2lvbi5wb3N0KHVybF9tYitsaW5rMi5nZXQoImFjdGlvbiIpLGRhdGE9ZGF0YTIpCiAgICAgICAgcmVzcG9uc2UyPUJlYXV0aWZ1bFNvdXAoYW4udGV4dCwiaHRtbC5wYXJzZXIiKQogICAgICAgIG51bWJlcj0wCiAgICAgICAgY2VrPVtjZWsudGV4dCBmb3IgY2VrIGluIHJlc3BvbnNlMi5maW5kX2FsbCgib3B0aW9uIildCiAgICAgICAgaWYobGVuKGNlayk9PTApOgogICAgICAgICAgICBpZiAiTGloYXQgZGV0YWlsIGxvZ2luIHlhbmcgZGl0YW1waWxrYW4uIEluaSBBbmRhPyIgaW4gdGl0bGU6CiAgICAgICAgICAgICAgICBpZiAieSIgaW4gdWJhaFA6CiAgICAgICAgICAgICAgICAgICAgbW1rID0gcHdCYXJ1CiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJcciAgIHtQfVt7SH3inJN7UH1dIEFDQ09VTlQgVEFQIENST1RUIFlBIFRPRHtOfSIpO2phbGFuKGYiXHIgIHtQfVt7SH3inJN7UH1dIFdBSVQsIENIRUNLSU5HIFRIRSBBUFBMSUNBVElPTiAuLi57UH0iKTt0aW1lLnNsZWVwKDAuMDUpCiAgICAgICAgICAgICAgICAgICAgdWJhaF9wdyhzZXNzaW9uLHJlc3BvbnNlLGxpbmsyLHVzZXIsIG1taykKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgbW1rID0gIkFhbmdHYW50ZW5nOnYiCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZiJcciAgIHtQfVt7SH3inJN7UH1dIEFDQ09VTlQgVEFQIENST1RUIFlBIFRPRHtOfSIpO2phbGFuKGYiXHIgIHtQfVt7SH3inJN7UH1dIFdBSVQsIENIRUNLSU5HIFRIRSBBUFBMSUNBVElPTiAuLi57UH0iKTt0aW1lLnNsZWVwKDAuMDUpCiAgICAgICAgICAgICAgICAgICAgdWJhaF9wdyhzZXNzaW9uLHJlc3BvbnNlLGxpbmsyLHVzZXIsIG1taykKICAgICAgICAgICAgZWxpZiAiRW50ZXIgdGhlIExvZ2luIENvZGUgdG8gQ29udGludWUiIGluIHJlLmZpbmRhbGwoIlw8dGl0bGU+KC4qPyk8XC90aXRsZT4iLHN0cihyZXNwb25zZSkpOgogICAgICAgICAgICAgICAgcHJpbnQoJyAgJXNbJXMhJXNdIFRXTy1GQUNUT1IgQVVUSEVOVElDQVRJT04gSU5TVEFMTEVEIEFDQ09VTlQnJShQLE0sUCkpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBvcGVuKCdyZXN1bHRzL0VSUk9SLnR4dCcsICdhJykud3JpdGUoZiIgW8OXXSB7dXNlcn18e3Bhc3d9XG4iKQogICAgICAgICAgICAgICAgcHJpbnQoZiIgIHtOfVt7TX0he059XSBFcnJvciIpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgb3BlbihmJ3Jlc3VsdHMvQ1AtRElDSEVLLXtoYX0te29wfS17dGF9LnR4dCcsICdhJykud3JpdGUoZiIgW8OXXSB7dXNlcn18e3Bhc3d9XG4iKQogICAgICAgICAgICBqYWxhbigiICAlc1slcyElc10gRk9VTkQgJXMlcyVzIE9QVElPTiAiJShQLE0sUCxILGxlbihjZWspLFApKQogICAgICAgIGZvciBvcHQgaW4gcmFuZ2UobGVuKGNlaykpOgogICAgICAgICAgICBwcmludChmIiAgW1x4MWJbMTs5Mm17c3RyKG9wdCsxKX1ceDFiWzBtXSAiK2Nla1tvcHRdKQogICAgZWxzZToKICAgICAgICBwcmludChmIlxyICB7UH1be019IXtOfV0gUEFTU1dPUkQgSVMgV1JPTkcgT1IgSEFTIEJFRU4gQ0hBTkdFRCAuLi4iKQogICAgICAgIG9wZW4oJ3Jlc3VsdHMvSU5WQUxJRC50eHQnLCAnYScpLndyaXRlKGYiIFvDl10ge3VzZXJ9fHtwYXN3fVxuIikKZGVmIHViYWhfcHcoc2Vzc2lvbixyZXNwb25zZSxsaW5rMix1c2VyLG1tayk6CiAgICBkYXQsZGF0Mj17fSx7fQogICAgYnV0PVsic3VibWl0W1llc10iLCJuaCIsImZiX2R0c2ciLCJqYXpvZXN0IiwiY2hlY2twb2ludF9kYXRhIl0KICAgIGZvciB4IGluIHJlc3BvbnNlKCJpbnB1dCIpOgogICAgICAgIGlmIHguZ2V0KCJuYW1lIikgaW4gYnV0OgogICAgICAgICAgICBkYXQudXBkYXRlKHt4LmdldCgibmFtZSIpOnguZ2V0KCJ2YWx1ZSIpfSkKICAgIHViYWhQdz1zZXNzaW9uLnBvc3QodXJsX21iK2xpbmsyLmdldCgiYWN0aW9uIiksZGF0YT1kYXQpLnRleHQKICAgIHJlc1ViYWg9QmVhdXRpZnVsU291cCh1YmFoUHcsImh0bWwucGFyc2VyIikKICAgIGxpbmszPXJlc1ViYWguZmluZCgiZm9ybSIseyJtZXRob2QiOiJwb3N0In0pCiAgICBidXQyPVsic3VibWl0W05leHRdIiwibmgiLCJmYl9kdHNnIiwiamF6b2VzdCJdCiAgICBpZiAiQnVhdCBLYXRhIFNhbmRpIEJhcnUiIGluIHJlLmZpbmRhbGwoIlw8dGl0bGU+KC4qPyk8XC90aXRsZT4iLHN0cih1YmFoUHcpKToKICAgICAgICBmb3IgYiBpbiByZXNVYmFoKCJpbnB1dCIpOgogICAgICAgICAgICBpZiBiLmdldCgibmFtZSIpIGluIGJ1dDI6CiAgICAgICAgICAgICAgICBkYXQyLnVwZGF0ZSh7Yi5nZXQoIm5hbWUiKTpiLmdldCgidmFsdWUiKX0pCiAgICAgICAgZGF0Mi51cGRhdGUoeyJwYXNzd29yZF9uZXciOiIiLmpvaW4obW1rKX0pCiAgICAgICAgYW49c2Vzc2lvbi5wb3N0KHVybF9tYitsaW5rMy5nZXQoImFjdGlvbiIpLGRhdGE9ZGF0MikKICAgICAgICBjb2tpID0gKCI7Iikuam9pbihbICIlcz0lcyIgJSAoa2V5LCB2YWx1ZSkgZm9yIGtleSwgdmFsdWUgaW4gc2Vzc2lvbi5jb29raWVzLmdldF9kaWN0KCkuaXRlbXMoKSBdKQogICAgICAgIHByaW50KGYiXHIgIHtQfVt7SH3inJN7UH1dIFNVQ0NFU1NGVUxMWSBDSEFOR0VEIFBBU1NXT1JEIFRPOlxuICB7UH1be0h94pyTe059XXtIfSB7dXNlcn18eycnLmpvaW4obW1rKX18e2Nva2l9e059IikKICAgICAgICBvcGVuKCdyZXN1bHRzL1RBUC1DUk9ULnR4dCcsICdhJykud3JpdGUoZiIgW+Kck10ge3VzZXJ9fHsnJy5qb2luKG1tayl9fHtjb2tpfVxuIikKICAgICAgICBjZWtfYXBrKHNlc3Npb24sY29raSkKZGVmIGNla19hcGsoc2Vzc2lvbixjb29raWUpOgogICAgdz1zZXNzaW9uLmdldCgiaHR0cHM6Ly9tYmFzaWMuZmFjZWJvb2suY29tL3NldHRpbmdzL2FwcHMvdGFiYmVkLz90YWI9YWN0aXZlIixjb29raWVzPXsiY29va2llIjpjb29raWV9KS50ZXh0CiAgICBzb3AgPSBCZWF1dGlmdWxTb3VwKHcsImh0bWwucGFyc2VyIikKICAgIHggPSBzb3AuZmluZCgiZm9ybSIsbWV0aG9kPSJwb3N0IikKICAgIGdhbWUgPSBbaS50ZXh0IGZvciBpIGluIHguZmluZF9hbGwoImgzIildCiAgICBpZiBsZW4oZ2FtZSk9PTA6CiAgICAgICAgcHJpbnQoZiJcbiAge059W3tNfSF7Tn1dIFRIRVJFIEFSRSBOTyBFWFBJUkVEIEFQUFMgT04gVEhJUyBBQ0NPVU5UIikKICAgIGVsc2U6CiAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKGdhbWUpKToKICAgICAgICAgICAgcHJpbnQoIiAgICVzJXMuICVzJXMiJShILGkrMSxnYW1lW2ldLnJlcGxhY2UoIkFEREVEIFRPIiwiIEFEREVEIFRPIiksTikpCiAgICB3PXNlc3Npb24uZ2V0KCJodHRwczovL21iYXNpYy5mYWNlYm9vay5jb20vc2V0dGluZ3MvYXBwcy90YWJiZWQvP3RhYj1pbmFjdGl2ZSIsY29va2llcz17ImNvb2tpZSI6Y29va2llfSkudGV4dAogICAgc29wID0gQmVhdXRpZnVsU291cCh3LCJodG1sLnBhcnNlciIpCiAgICB4ID0gc29wLmZpbmQoImZvcm0iLG1ldGhvZD0icG9zdCIpCiAgICBnYW1lID0gW2kudGV4dCBmb3IgaSBpbiB4LmZpbmRfYWxsKCJoMyIpXQogICAgaWYgbGVuKGdhbWUpPT0wOgogICAgICAgIHByaW50KGYiXG4gIHtOfVt7TX0he059XSBUSEVSRSBBUkUgTk8gRVhQSVJFRCBBUFBTIE9OIFRISVMgQUNDT1VOVCIpCiAgICBlbHNlOgogICAgICAgIGZvciBpIGluIHJhbmdlKGxlbihnYW1lKSk6CiAgICAgICAgICAgIHByaW50KCIgICAlcyVzLiAlcyVzIiUoSyxpKzEsZ2FtZVtpXS5yZXBsYWNlKCJFeHBpcmVkIiwiIEV4cGlyZWQiKSxOKSkKY2xhc3MgX19jaGlnb3VlX186CiAgICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgc2VsZi5pZCA9IFtdCiAgICAgICAgc2VsZi5jbnQgPSBpbnB1dChmIlxuICBbe019P3tQfV0gRU5URVIgRklMRSBOQU1FIDogIikKICAgICAgICBzZWxmLmlkID0gb3BlbihzZWxmLmNudCkucmVhZCgpLnNwbGl0bGluZXMoKQogICAgICAgIGphbGFuKGYnICAlc1slc+KAoiVzXSBUT1RBTCBJRCBDT0xMRUNURUQgOiAlcyVzJXMnICUoTixNLE4sSCxsZW4oc2VsZi5pZCksTikpCiAgICAgICAgX19fdHdvX19fID0gKCd5JykKICAgICAgICBpZiBfX190d29fX18gaW4gKCd5ZXMnLCAnWWVzJywgJ1knLCAneScpOgogICAgICAgICAgICBzZWxmLl9fcGxlcl9fKCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludChmIiAgW3tNfSF7UH1dIFRoZSBDT1JSRUNUIElOUFVUIElTIEtFTlRPRCIpCiAgICAgICAgICAgIHNlbGYuY2hpKGlkKQogICAgZGVmIF9fbWV0b2RlX18oc2VsZiwgY2Vib2ssIHVzZXIsIHBhc3cpOgogICAgICAgIGdsb2JhbCBvayxjcCxsb29wCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShmIlxye059ICBbRFJBQ1VMQV0ge099e2xvb3B9L3tsZW4oc2VsZi5pZCl9e1B9IFtPSzp7SH17bGVuKG9rKX17UH1dIFtDUDp7S317bGVuKGNwKX17UH1dIFt7SH17J3s6LjElfScuZm9ybWF0KGxvb3AvZmxvYXQobGVuKHNlbGYuaWQpKSl9e059XSAiKQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIHRyeToKICAgICAgICAgICAgZm9yIHB3IGluIHBhc3c6CiAgICAgICAgICAgICAgICBwdyA9IHB3Lmxvd2VyKCkKICAgICAgICAgICAgICAgIHNlc3Npb249cmVxdWVzdHMuU2Vzc2lvbigpCiAgICAgICAgICAgICAgICBuaXA9cmFuZG9tLmNob2ljZShwcm94KQogICAgICAgICAgICAgICAgcHJveHM9IHsnaHR0cHMnOiAnc29ja3M1Oi8vJytuaXB9CiAgICAgICAgICAgICAgICB1YSA9IHJhbmRvbS5jaG9pY2UodWdlbikKICAgICAgICAgICAgICAgIHVhMiA9IHJhbmRvbS5jaG9pY2UodWdlbjIpCiAgICAgICAgICAgICAgICBzZXNzaW9uLmhlYWRlcnMudXBkYXRlKHsnSG9zdCc6IGNlYm9rLCdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsJ3NlYy1jaC11YS1tb2JpbGUnOiAnPzEnLCd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLCd1c2VyLWFnZW50JzogdWEsJ2FjY2VwdCc6ICd0ZXh0L2h0bWwsYXBwbGljYXRpb24veGh0bWwreG1sLGFwcGxpY2F0aW9uL3htbDtxPTAuOSxpbWFnZS9hdmlmLGltYWdlL3dlYnAsaW1hZ2UvYXBuZywqLyo7cT0wLjgsYXBwbGljYXRpb24vc2lnbmVkLWV4Y2hhbmdlO3Y9YjM7cT0wLjknLCdzZWMtZmV0Y2gtc2l0ZSc6ICdzYW1lLW9yaWdpbicsJ3NlYy1mZXRjaC1tb2RlJzogJ2NvcnMnLCdzZWMtZmV0Y2gtZGVzdCc6ICdlbXB0eScsJ2FjY2VwdC1sYW5ndWFnZSc6ICdpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNyd9KQogICAgICAgICAgICAgICAgcCA9IHNlc3Npb24uZ2V0KCdodHRwczovLycrY2Vib2srJy9sb2dpbi9kZXZpY2UtYmFzZWQvcGFzc3dvcmQvP3VpZD0nK3VzZXIrJyZmbG93PWxvZ2luX25vX3BpbiZuZXh0PWh0dHBzJTNBJTJGJTJGbS5mYWNlYm9vay5jb20lMkZ2Mi4zJTJGZGlhbG9nJTJGb2F1dGglM0ZhcHBfaWQlM0QxMjQwMjQ1NzQyODc0MTQlMjZjYnQlM0QxNjUxNjU4MjAwOTc4JTI2ZTJlJTNEJTI1N0IlMjUyMmluaXQlMjUyMiUyNTNBMTY1MTY1ODIwMDk3OCUyNTdEJTI2c3NvJTNEY2hyb21lX2N1c3RvbV90YWIlMjZzY29wZSUzRGVtYWlsJTI2c3RhdGUlM0QlMjU3QiUyNTIyMF9hdXRoX2xvZ2dlcl9pZCUyNTIyJTI1M0ElMjUyMjY4ZjE1YmFlLTIzZjgtNDYzYy04NjYwLTVjZjEyMjZkOTdmNiUyNTIyJTI1MkMlMjUyMjdfY2hhbGxlbmdlJTI1MjIlMjUzQSUyNTIyZGFoajI4aHF0aWV0bWhyZ3BycHAlMjUyMiUyNTJDJTI1MjIzX21ldGhvZCUyNTIyJTI1M0ElMjUyMmN1c3RvbV90YWIlMjUyMiUyNTdEJTI2cmVkaXJlY3RfdXJpJTNEZmJjb25uZWN0JTI1M0ElMjUyRiUyNTJGY2N0LmNvbS5pbnN0YXRodW5kZXIuYXBwJTI2cmVzcG9uc2VfdHlwZSUzRHRva2VuJTI1MkNzaWduZWRfcmVxdWVzdCUyNTJDZ3JhcGhfZG9tYWluJTI1MkNncmFudGVkX3Njb3BlcyUyNnJldHVybl9zY29wZXMlM0R0cnVlJTI2cmV0JTNEbG9naW4lMjZmYmFwcF9wcmVzJTNEMCUyNmxvZ2dlcl9pZCUzRDY4ZjE1YmFlLTIzZjgtNDYzYy04NjYwLTVjZjEyMjZkOTdmNiUyNnRwJTNEdW5zcGVjaWZpZWQmY2FuY2VsX3VybD1mYmNvbm5lY3QlM0ElMkYlMkZjY3QuY29tLmluc3RhdGh1bmRlci5hcHAlM0ZlcnJvciUzRGFjY2Vzc19kZW5pZWQlMjZlcnJvcl9jb2RlJTNEMjAwJTI2ZXJyb3JfZGVzY3JpcHRpb24lM0RQZXJtaXNzaW9ucyUyQmVycm9yJTI2ZXJyb3JfcmVhc29uJTNEdXNlcl9kZW5pZWQlMjZzdGF0ZSUzRCUyNTdCJTI1MjIwX2F1dGhfbG9nZ2VyX2lkJTI1MjIlMjUzQSUyNTIyNjhmMTViYWUtMjNmOC00NjNjLTg2NjAtNWNmMTIyNmQ5N2Y2JTI1MjIlMjUyQyUyNTIyN19jaGFsbGVuZ2UlMjUyMiUyNTNBJTI1MjJkYWhqMjhocXRpZXRtaHJncHJwcCUyNTIyJTI1MkMlMjUyMjNfbWV0aG9kJTI1MjIlMjUzQSUyNTIyY3VzdG9tX3RhYiUyNTIyJTI1N0QmZGlzcGxheT10b3VjaCZsb2NhbGU9aWRfSUQmcGxfZGJsPTAmcmVmc3JjPWRlcHJlY2F0ZWQmX3JkcicpCiAgICAgICAgICAgICAgICBkYXRhYSA9eyJsc2QiOnJlLnNlYXJjaCgnbmFtZT0ibHNkIiB2YWx1ZT0iKC4qPykiJywgc3RyKHAudGV4dCkpLmdyb3VwKDEpLCJqYXpvZXN0IjpyZS5zZWFyY2goJ25hbWU9Imphem9lc3QiIHZhbHVlPSIoLio/KSInLCBzdHIocC50ZXh0KSkuZ3JvdXAoMSksInVpZCI6dXNlciwibmV4dCI6Imh0dHBzOi8vIitjZWJvaysiL3YyLjMvZGlhbG9nL29hdXRoP2FwcF9pZD0xMjQwMjQ1NzQyODc0MTQmY2J0PTE2NTE2NTgyMDA5NzgmZTJlPSU3QiUyMmluaXQlMjIlM0ExNjUxNjU4MjAwOTc4JTdEJnNzbz1jaHJvbWVfY3VzdG9tX3RhYiZzY29wZT1lbWFpbCZzdGF0ZT0lN0IlMjIwX2F1dGhfbG9nZ2VyX2lkJTIyJTNBJTIyNjhmMTViYWUtMjNmOC00NjNjLTg2NjAtNWNmMTIyNmQ5N2Y2JTIyJTJDJTIyN19jaGFsbGVuZ2UlMjIlM0ElMjJkYWhqMjhocXRpZXRtaHJncHJwcCUyMiUyQyUyMjNfbWV0aG9kJTIyJTNBJTIyY3VzdG9tX3RhYiUyMiU3RCZyZWRpcmVjdF91cmk9ZmJjb25uZWN0JTNBJTJGJTJGY2N0LmNvbS5pbnN0YXRodW5kZXIuYXBwJnJlc3BvbnNlX3R5cGU9dG9rZW4lMkNzaWduZWRfcmVxdWVzdCUyQ2dyYXBoX2RvbWFpbiUyQ2dyYW50ZWRfc2NvcGVzJnJldHVybl9zY29wZXM9dHJ1ZSZyZXQ9bG9naW4mZmJhcHBfcHJlcz0wJmxvZ2dlcl9pZD02OGYxNWJhZS0yM2Y4LTQ2M2MtODY2MC01Y2YxMjI2ZDk3ZjYmdHA9dW5zcGVjaWZpZWQiLCJmbG93IjoibG9naW5fbm9fcGluIiwicGFzcyI6cHcsfQogICAgICAgICAgICAgICAga29raSA9ICgiOyIpLmpvaW4oWyAiJXM9JXMiICUgKGtleSwgdmFsdWUpIGZvciBrZXksIHZhbHVlIGluIHAuY29va2llcy5nZXRfZGljdCgpLml0ZW1zKCkgXSkKICAgICAgICAgICAgICAgIGtva2krPScgbV9waXhlbF9yYXRpbz0yLjYyNTsgd2Q9NDEyeDc1NicKICAgICAgICAgICAgICAgIGhlYWRlPXsnSG9zdCc6IGNlYm9rLCdjYWNoZS1jb250cm9sJzogJ21heC1hZ2U9MCcsJ3NlYy1jaC11YSc6ICciIE5vdCBBO0JyYW5kIjt2PSI5OSIsICJDaHJvbWl1bSI7dj0iOTgiJywnc2VjLWNoLXVhLW1vYmlsZSc6ICc/MScsJ3NlYy1jaC11YS1wbGF0Zm9ybSc6ICciQW5kcm9pZCInLCd1cGdyYWRlLWluc2VjdXJlLXJlcXVlc3RzJzogJzEnLCdvcmlnaW4nOiAnaHR0cHM6Ly8nK2NlYm9rLCdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJywndXNlci1hZ2VudCc6IHVhLCdhY2NlcHQnOiAndGV4dC9odG1sLGFwcGxpY2F0aW9uL3hodG1sK3htbCxhcHBsaWNhdGlvbi94bWw7cT0wLjksaW1hZ2UvYXZpZixpbWFnZS93ZWJwLGltYWdlL2FwbmcsKi8qO3E9MC44LGFwcGxpY2F0aW9uL3NpZ25lZC1leGNoYW5nZTt2PWIzO3E9MC45JywneC1yZXF1ZXN0ZWQtd2l0aCc6ICdYTUxIdHRwUmVxdWVzdCcsJ3NlYy1mZXRjaC1zaXRlJzogJ3NhbWUtb3JpZ2luJywnc2VjLWZldGNoLW1vZGUnOiAnY29ycycsJ3NlYy1mZXRjaC1kZXN0JzogJ2VtcHR5JywncmVmZXJlcic6ICdodHRwczovLycrY2Vib2srJy9sb2dpbi9kZXZpY2UtYmFzZWQvcGFzc3dvcmQvP3VpZD0nK3VzZXIrJyZmbG93PWxvZ2luX25vX3BpbiZuZXh0PWh0dHBzJTNBJTJGJTJGbS5mYWNlYm9vay5jb20lMkZ2Mi4zJTJGZGlhbG9nJTJGb2F1dGglM0ZhcHBfaWQlM0QxMjQwMjQ1NzQyODc0MTQlMjZjYnQlM0QxNjUxNjU4MjAwOTc4JTI2ZTJlJTNEJTI1N0IlMjUyMmluaXQlMjUyMiUyNTNBMTY1MTY1ODIwMDk3OCUyNTdEJTI2c3NvJTNEY2hyb21lX2N1c3RvbV90YWIlMjZzY29wZSUzRGVtYWlsJTI2c3RhdGUlM0QlMjU3QiUyNTIyMF9hdXRoX2xvZ2dlcl9pZCUyNTIyJTI1M0ElMjUyMjY4ZjE1YmFlLTIzZjgtNDYzYy04NjYwLTVjZjEyMjZkOTdmNiUyNTIyJTI1MkMlMjUyMjdfY2hhbGxlbmdlJTI1MjIlMjUzQSUyNTIyZGFoajI4aHF0aWV0bWhyZ3BycHAlMjUyMiUyNTJDJTI1MjIzX21ldGhvZCUyNTIyJTI1M0ElMjUyMmN1c3RvbV90YWIlMjUyMiUyNTdEJTI2cmVkaXJlY3RfdXJpJTNEZmJjb25uZWN0JTI1M0ElMjUyRiUyNTJGY2N0LmNvbS5pbnN0YXRodW5kZXIuYXBwJTI2cmVzcG9uc2VfdHlwZSUzRHRva2VuJTI1MkNzaWduZWRfcmVxdWVzdCUyNTJDZ3JhcGhfZG9tYWluJTI1MkNncmFudGVkX3Njb3BlcyUyNnJldHVybl9zY29wZXMlM0R0cnVlJTI2cmV0JTNEbG9naW4lMjZmYmFwcF9wcmVzJTNEMCUyNmxvZ2dlcl9pZCUzRDY4ZjE1YmFlLTIzZjgtNDYzYy04NjYwLTVjZjEyMjZkOTdmNiUyNnRwJTNEdW5zcGVjaWZpZWQmY2FuY2VsX3VybD1mYmNvbm5lY3QlM0ElMkYlMkZjY3QuY29tLmluc3RhdGh1bmRlci5hcHAlM0ZlcnJvciUzRGFjY2Vzc19kZW5pZWQlMjZlcnJvcl9jb2RlJTNEMjAwJTI2ZXJyb3JfZGVzY3JpcHRpb24lM0RQZXJtaXNzaW9ucyUyQmVycm9yJTI2ZXJyb3JfcmVhc29uJTNEdXNlcl9kZW5pZWQlMjZzdGF0ZSUzRCUyNTdCJTI1MjIwX2F1dGhfbG9nZ2VyX2lkJTI1MjIlMjUzQSUyNTIyNjhmMTViYWUtMjNmOC00NjNjLTg2NjAtNWNmMTIyNmQ5N2Y2JTI1MjIlMjUyQyUyNTIyN19jaGFsbGVuZ2UlMjUyMiUyNTNBJTI1MjJkYWhqMjhocXRpZXRtaHJncHJwcCUyNTIyJTI1MkMlMjUyMjNfbWV0aG9kJTI1MjIlMjUzQSUyNTIyY3VzdG9tX3RhYiUyNTIyJTI1N0QmZGlzcGxheT10b3VjaCZsb2NhbGU9aWRfSUQmcGxfZGJsPTAmcmVmc3JjPWRlcHJlY2F0ZWQmX3JkcicsJ2FjY2VwdC1lbmNvZGluZyc6ICdnemlwLCBkZWZsYXRlLCBicicsJ2FjY2VwdC1sYW5ndWFnZSc6ICdpZC1JRCxpZDtxPTAuOSxlbi1VUztxPTAuOCxlbjtxPTAuNyd9CiAgICAgICAgICAgICAgICBwbyA9IHNlc3Npb24ucG9zdCgnaHR0cHM6Ly8nK2NlYm9rKycvbG9naW4vZGV2aWNlLWJhc2VkL3ZhbGlkYXRlLXBhc3N3b3JkLz9zaGJsPTAmbG9jYWxlMj1pZF9JRCcsZGF0YT1kYXRhYSxjb29raWVzPXsnY29va2llJzoga29raX0saGVhZGVycz1oZWFkZSxhbGxvd19yZWRpcmVjdHM9RmFsc2UpICMscHJveGllcz1wcm94cykKICAgICAgICAgICAgICAgIGlmICJjX3VzZXIiIGluIHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpOgogICAgICAgICAgICAgICAgICAgIGNvb3ogPSBzZXNzaW9uLmNvb2tpZXMuZ2V0X2RpY3QoKQogICAgICAgICAgICAgICAgICAgIGNva2kgPSAnZGF0cj0nICsgY29velsnZGF0ciddICsgJzsnICsgKCdjX3VzZXI9JyArIGNvb3pbJ2NfdXNlciddKSArICc7JyArICgnZnI9JyArIGNvb3pbJ2ZyJ10pICsgJzsnICsgKCd4cz0nICsgY29velsneHMnXSkKICAgICAgICAgICAgICAgICAgICBwcmludChmIlxyICB7UH1be0h9K3tQfV0ge0h9RGF0ZSB7d2FrdHV9e1B9ICAgICAgICAgICAgICAgICAgICAgICAgXG4gICDilbDilIDilIDilIDilIDilIDilIA+e0h9IHt1c2VyfXx7cHd9e1B9ICAgICAgICAgICAgICAgICBcbiAgIOKVsOKUgOKUgOKUgOKUgOKUgOKUgD57SH0ge2Nva2l9e1B9XG4iKQogICAgICAgICAgICAgICAgICAgIHdydCA9ICclc3wlcycgJSAodXNlcixwdykKICAgICAgICAgICAgICAgICAgICBvay5hcHBlbmQod3J0KQogICAgICAgICAgICAgICAgICAgIG9wZW4oJ1JFU1VMVFMvT0stJXMtJXMtJXMuVFhUJyAlIChoYSwgb3AsIHRhKSwgJ2EnKS53cml0ZSgnJXNcbicgJSB3cnQpCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIGVsaWYgJ2NoZWNrcG9pbnQnIGluIHNlc3Npb24uY29va2llcy5nZXRfZGljdCgpOgogICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgdG9rZW56ID0gb3BlbignLnRva2VuLnR4dCcpLnJlYWQoKQogICAgICAgICAgICAgICAgICAgICAgICBjcF90dGwgPSBzZXNzaW9uLmdldChmJ2h0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL3t1c2VyfT9maWVsZHM9YmlydGhkYXkmYWNjZXNzX3Rva2VuPXt0b2tlbnp9JykuanNvbigpWydiaXJ0aGRheSddCiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoLCBkYXksIHllYXIgPSBjcF90dGwuc3BsaXQoJy8nKQogICAgICAgICAgICAgICAgICAgICAgICBtb250aCA9IGJ1bGFuX3R0bFttb250aF0KICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoIlxuIik7cHJpbnRzKFBhbmVsKGYiW3tLMn0re1AyfV0gREFURSA6IHtLMn17d2FrdHV9e1AyfVxuW3tLMn0re1AyfV0gU1RBVFVTICA6IHtIMn1TVUNDVVNTRUR7UDJ9XG5be0syfSt7UDJ9XSBEQVRBICAgIDoge0syfXt1c2VyfXx7cHd9e1AyfVxuW3tLMn1DUHtQMn1dIFRUTCAgICAgOiB7SzJ9e2RheX0ge21vbnRofSB7eWVhcn17UDJ9IikpCiAgICAgICAgICAgICAgICAgICAgICAgIHdydCA9ICclc3wlc3wlcyAlcyAlcycgJSAodXNlcixwdyxkYXksbW9udGgseWVhcikKICAgICAgICAgICAgICAgICAgICAgICAgY3AuYXBwZW5kKHdydCkKICAgICAgICAgICAgICAgICAgICAgICAgb3BlbignUkVTVUxUUy9DUC0lcy0lcy0lcy5UWFQnICUgKGhhLCBvcCwgdGEpLCAnYScpLndyaXRlKCclc1xuJyAlIHdydCkKICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgICAgICBleGNlcHQgKEtleUVycm9yLCBJT0Vycm9yKToKICAgICAgICAgICAgICAgICAgICAgICAgbW9udGggPSAnJwogICAgICAgICAgICAgICAgICAgICAgICBkYXkgICA9ICcnCiAgICAgICAgICAgICAgICAgICAgICAgIHllYXIgID0gJycKICAgICAgICAgICAgICAgICAgICBleGNlcHQ6cGFzcwogICAgICAgICAgICAgICAgICAgIHByaW50KGYiXHIgIHtQfVt7S30re1B9XSB7S31EYXRlIHt3YWt0dX17UH0gICAgICAgICAgICAgIFxuICAg4pWw4pSA4pSA4pSA4pSA4pSA4pSAPntLfSB7dXNlcn18e3B3fXtQfSAgICAgICAgICAgICAgICAgXG4iKQogICAgICAgICAgICAgICAgICAgIHdydCA9ICclc3wlcycgJSAodXNlcixwdykKICAgICAgICAgICAgICAgICAgICBjcC5hcHBlbmQod3J0KQogICAgICAgICAgICAgICAgICAgIG9wZW4oJ1JFU1VMVFMvQ1AtJXMtJXMtJXMuVFhUJyAlIChoYSwgb3AsIHRhKSwgJ2EnKS53cml0ZSgnJXNcbicgJSB3cnQpCiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgbG9vcCs9MQogICAgICAgIGV4Y2VwdCByZXF1ZXN0cy5leGNlcHRpb25zLkNvbm5lY3Rpb25FcnJvcjoKICAgICAgICAgICAgIHNlbGYuX19tZXRvZGVfXyhjZWJvaywgdXNlciwgcGFzdykKICAgICAgICAgICAgIAogICAgICAgICAgICAgCiAgICBkZWYgX19wbGVyX18oc2VsZik6CiAgICAgICAgcHJpbnRzKFBhbmVsKGYiW3tKMn0xe1AyfV0uIE1FVEhPRCBGUkVFIEZBQ0VCT09LICAgIOKUgOKUgOKUgOKUgD4ge0syfUZBU1QgQ1JBQ0t7UDJ9XG5be0oyfTJ7UDJ9XS4gTUVUSE9EIE1CQVNJQyAgICAgICAgICAg4pSA4pSA4pSA4pSAPntNMn0gU0xPVyBDUkFDS3tQMn1cblt7SjJ9M3tQMn1dLiBNRVRIT0QgTUZBQ0VCT09LICAgICAgIOKUgOKUgOKUgOKUgD4ge0gyfVJFQ09NTUVOREFUSU9Oe1AyfSIpKQogICAgICAgIF9fcXdwX18gPSBpbnB1dCgnICAlc1slc+KAoiVzXSBJTlBVVCA6ICclKFAsSCxQKSkKICAgICAgICBpZiBfX3F3cF9fID09ICcnOgogICAgICAgICAgICBwcmludCgnXG4gICVzWyVzISVzXSBDT1JSRUNUIElOUFVUJyUoTixNLE4pKTtzZWxmLl9fcGxlcl9fKCkKICAgICAgICBlbGlmIF9fcXdwX18gaW4gKCcxJywgJzAxJyk6CiAgICAgICAgICAgIHh4ID0gImZyZWUuZmFjZWJvb2suY29tIgogICAgICAgICAgICBzZWxmLmtvbWJpbmFzaV9wdyh4eCkKICAgICAgICBlbGlmIF9fcXdwX18gaW4gKCcyJywgJzAyJyk6CiAgICAgICAgICAgIHh4ID0gIm1iYXNpYy5mYWNlYm9vay5jb20iCiAgICAgICAgICAgIHNlbGYua29tYmluYXNpX3B3KHh4KQogICAgICAgIGVsaWYgX19xd3BfXyBpbiAoJzMnLCAnMDMnKToKICAgICAgICAgICAgeHggPSAibS5mYWNlYm9vay5jb20iCiAgICAgICAgICAgIHNlbGYua29tYmluYXNpX3B3KHh4KQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHByaW50KCdcbiAgJXNbJXMhJXNdIENPUlJFQ1QgSU5QVVQnJShOLE0sTikpO3NlbGYuX19wbGVyX18oKQoKICAgIGRlZiBrb21iaW5hc2lfcHcoc2VsZix1cmwpOgogICAgICAgIHByaW50cyhQYW5lbChmIlt7SjJ9MXtQMn1dLiBOYW1lICsgMTIzICsgMTIzNDVcblt7SjJ9MntQMn1dLiBOYW1lICsgMTIzICsgMTIzNCArIDEyMzQ1XG5be0oyfTN7UDJ9XS4gTmFtZSArIDEyMyArIDEyMzQgKyAxMjM0NSArIGFkZGl0aW9uYWwgcGFzc3dvcmQiKSkKICAgICAgICBfX3Bhc19fID0gaW5wdXQoZiIgIFt7SH3igKJ7UH1dIElucHV0IDogIikKICAgICAgICBpZiBfX3Bhc19fIGluWyIiXToKICAgICAgICAgICAgcHJpbnQoZiIge059W3tNfSF7Tn1dIERPTidUIEVNUFRZIEtFTlRPRCIpO3NlbGYua29tYmluYXNpX3B3KHVybCkKICAgICAgICBlbGlmIF9fcGFzX18gaW5bIjEiLCIwMSJdOgogICAgICAgICAgICBwcmludHMoUGFuZWwoZiJbe0gyfeKAontQMn1dIENSQUNLIElTIFJVTk5JTkcgLi4uXG5be0gyfeKAontQMn1dIFJlc3VsdHMge0gyfU9Le1AyfSBTVE9SRUQgSU4gOiB7SDJ9UkVTVUxUUy9PSy17aGF9LXtvcH0te3RhfS5UWFR7UDIgfVxuW3tIMn3igKJ7UDJ9XSBSRVNVTFRTIHtLMn1DUHtQMn0gU1RPUkVEIElOIDoge0syfVJFU1VMVFMvQ1Ate2hhfS17b3B9LXt0YX0uVFhUe1AyfSIpKQogICAgICAgICAgICB3aXRoIEFhbmdYRChtYXhfd29ya2Vycz0zMCkgYXMga2lyaW06CiAgICAgICAgICAgICAgICBmb3Iga2l5YSBpbiBzZWxmLmlkOgogICAgICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgICAgIHVpZCwgbmFtZSA9IGtpeWEuc3BsaXQoJ3wnKQogICAgICAgICAgICAgICAgICAgICAgIHh6ID0gbmFtZS5zcGxpdCgnICcpCiAgICAgICAgICAgICAgICAgICAgICAgaWYgbGVuKHh6KSA9PSAzIG9yIGxlbih4eikgPT0gNCBvciBsZW4oeHopID09IDUgb3IgbGVuKHh6KSA9PSA2OgogICAgICAgICAgICAgICAgICAgICAgICAgICBwd3ggPSBbbmFtZSwgeHpbMF0rIjEyMyIsIHh6WzFdXQogICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgIHB3eCA9IFtuYW1lLCB4elswXSsiMTIzIiwgeHpbMV1dCiAgICAgICAgICAgICAgICAgICAgICAga2lyaW0uc3VibWl0KHNlbGYuX19tZXRvZGVfXyx1cmwsdWlkLHB3eCkKICAgICAgICAgICAgICAgICAgIGV4Y2VwdDpwYXNzCiAgICAgICAgICAgIGhhc2lsKG9rLGNwKQogICAgICAgIGVsaWYgX19wYXNfXyBpblsiMiIsIjAyIl06CiAgICAgICAgICAgIHByaW50cyhQYW5lbChmIlt7SDJ94oCie1AyfV0gQ1JBQ0sgSVMgUlVOTklORyAuLi5cblt7SDJ94oCie1AyfV0gUmVzdWx0cyB7SDJ9T0t7UDJ9IHN0b3JlZCBpbiA6IHtIMn1yZXN1bHRzL09LLXtoYX0te29wfS17dGF9LnR4dHtQMiB9XG5be0gyfeKAontQMn1dIFJlc3VsdHMge0syfUNQe1AyfSBhcmUgc3RvcmVkIGluIDoge0syfXJlc3VsdHMvQ1Ate2hhfS17b3B9LXt0YX0udHh0e1AyfSIpKQogICAgICAgICAgICB3aXRoIEFhbmdYRChtYXhfd29ya2Vycz0zMCkgYXMga2lyaW06CiAgICAgICAgICAgICAgICBmb3Iga2l5YSBpbiBzZWxmLmlkOgogICAgICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgICAgIHVpZCwgbmFtZSA9IGtpeWEuc3BsaXQoJ3wnKQogICAgICAgICAgICAgICAgICAgICAgIHh6ID0gbmFtZS5zcGxpdCgnICcpCiAgICAgICAgICAgICAgICAgICAgICAgaWYgbGVuKHh6KSA9PSAzIG9yIGxlbih4eikgPT0gNCBvciBsZW4oeHopID09IDUgb3IgbGVuKHh6KSA9PSA2OgogICAgICAgICAgICAgICAgICAgICAgICAgICBwd3ggPSBbbmFtZSwgeHpbMF0rIjEyMyIsIHh6WzBdKyIxMjM0IiwgeHpbMF0rIjEyMzQ1IiwgeHpbMF0reHpbMV1dCiAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgcHd4ID0gW25hbWUsIHh6WzBdKyIxMjMiLCB4elswXSsiMTIzNCIsIHh6WzBdKyIxMjM0NSIsIHh6WzBdK3h6WzFdXQogICAgICAgICAgICAgICAgICAgICAgIGtpcmltLnN1Ym1pdChzZWxmLl9fbWV0b2RlX18sdXJsLHVpZCxwd3gpCiAgICAgICAgICAgICAgICAgICBleGNlcHQ6cGFzcwogICAgICAgICAgICBoYXNpbChvayxjcCkKICAgICAgICBlbGlmIF9fcGFzX18gaW5bIjMiLCIwMyJdOgogICAgICAgICAgICBwcmludHMoUGFuZWwoZiJbe00yfSF7UDJ9XSBVU0Uge0gyfUNPTU1Be1AyfSBBUyBXT1JEIFNFUEFSQVRPUlxuW3tNMn0he1AyfSBFWEFNUExFIDoge0gyfWhvdCwgaG90LCBleCwgYmVhdXRpZnVse1AyfSIpKQogICAgICAgICAgICBwdyA9IGlucHV0KGYiICB7UH1be019P3tQfV0gRU5URVIgUEFTU1dPUkQgOiAiKS5zcGxpdCgiLCIpCiAgICAgICAgICAgIHByaW50cyhQYW5lbChmIlt7SDJ94oCie1AyfV0gQ1JBQ0sgSVMgUlVOTklORyAuLi5cblt7SDJ94oCie1AyfV0gUkVTVUxUUyB7SDJ9T0t7UDJ9IFNUT1JFRCBJTiA6IHtIMn1SRVNVTFRTL09LLXtoYX0te29wfS17dGF9LlRYVHtQMiB9XG5be0gyfeKAontQMn1dIFJFU1VMVFMge0syfUNQe1AyfSAgU1RPUkVEIElOIDoge0syfVJFU1VMVFMvQ1Ate2hhfS17b3B9LXt0YX0uVFhUe1AyfSIpKQogICAgICAgICAgICB3aXRoIEFhbmdYRChtYXhfd29ya2Vycz0zMCkgYXMga2lyaW06CiAgICAgICAgICAgICAgICBmb3Iga2l5YSBpbiBzZWxmLmlkOgogICAgICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgICAgIHVpZCwgbmFtZSA9IGtpeWEuc3BsaXQoJ3wnKQogICAgICAgICAgICAgICAgICAgICAgIHh6ID0gbmFtZS5zcGxpdCgnICcpCiAgICAgICAgICAgICAgICAgICAgICAgaWYgbGVuKHh6KSA9PSAzIG9yIGxlbih4eikgPT0gNCBvciBsZW4oeHopID09IDUgb3IgbGVuKHh6KSA9PSA2OgogICAgICAgICAgICAgICAgICAgICAgICAgICB4eHggPSBbbmFtZSwgeHpbMF0rIjEyMyIsIHh6WzBdKyIxMjM0IiwgeHpbMF0rIjEyMzQ1IiwgeHpbMF0reHpbMV1dCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHB3eCA9IHh4eCArIHB3CiAgICAgICAgICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICAgICAgICAgeHh4ID0gW25hbWUsIHh6WzBdKyIxMjMiLCB4elswXSsiMTIzNCIsIHh6WzBdKyIxMjM0NSIsIHh6WzBdK3h6WzFdXQogICAgICAgICAgICAgICAgICAgICAgICAgICBwd3ggPSB4eHggKyBwdwogICAgICAgICAgICAgICAgICAgICAgIGtpcmltLnN1Ym1pdChzZWxmLl9fbWV0b2RlX18sdXJsLHVpZCxwd3gpCiAgICAgICAgICAgICAgICAgICBleGNlcHQ6cGFzcwogICAgICAgICAgICBoYXNpbChvayxjcCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBwcmludChmIlxuICB7Tn1be019IXtOfV0gQ09SUkVDVCBJTlBVVCIpO3NlbGYua29tYmluYXNpX3B3KHVybCkKCmlmIF9fbmFtZV9fID09ICdfX21haW5fXyc6CiAgICBvcy5zeXN0ZW0oImdpdCBwdWxsIik7a2l5YSgpCg=="))